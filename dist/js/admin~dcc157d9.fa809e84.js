(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["admin~dcc157d9"],{"29d6":function(t,e,n){"use strict";var a=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"admin page title"},[a("h1",[t._v("DISTRIBUIDORES AUTORIZADOS Y TIENDAS")]),a("form",[a("div",{staticClass:"excel-input"},[a("DragAndDropExcelDistributorsComponent",{attrs:{message:"DISTRIBUIDORES AUTORIZADOS"},on:{onStart:t.onDragAndDropStartDistributors,onLoad:t.onDragAndDropLoadDistributors}}),a("div",t._l(t.resumeList(t.DATA.AUTHORIZED_DISTRIBUTORS),function(e,n){return a("h5",{key:n,staticStyle:{"text-align":"center",padding:"0.5em"}},[t._v(t._s(e))])}),0)],1),a("div",{staticClass:"excel-input"},[a("DragAndDropExcelShopsComponent",{attrs:{message:"TIENDAS AUTORIZADAS"},on:{onStart:t.onDragAndDropStartShops,onLoad:t.onDragAndDropLoadShops}}),a("div",t._l(t.resumeList(t.DATA.AUTHORIZED_SHOPS),function(e,n){return a("h5",{key:n,staticStyle:{"text-align":"center",padding:"0.5em"}},[t._v(t._s(e))])}),0)],1),a("br"),a("div",{staticClass:"buttons"},[a("div",{staticClass:"button clear",on:{click:function(e){return t.clear()}}},[t._v("BORRAR")]),a("div",{staticClass:"button save",on:{click:function(e){return t.save()}}},[t._v("GUARDAR")])])]),t.isLoading?a("div",{staticClass:"loader"},[a("img",{attrs:{src:n("b2fa"),width:"25px"}})]):t._e()])},o=[],i=(n("a481"),n("75fc")),r=n("d225"),s=n("b0b4"),c=n("308d"),l=n("6bb5"),D=n("4e2b"),d=n("9ab4"),u=n("185b"),A=n("6229"),p=n("893a"),S=n("60a3"),g=function(t){function e(){var t;return Object(r["a"])(this,e),t=Object(c["a"])(this,Object(l["a"])(e).apply(this,arguments)),t.DATA={AUTHORIZED_DISTRIBUTORS:[],AUTHORIZED_SHOPS:[]},t.isLoading=!1,t.apiDB=new u["a"],t.db={},t}return Object(D["a"])(e,t),Object(s["a"])(e,[{key:"beforeMount",value:function(){this.apiDB.setDatabaseByName("SETTINGS-DB"),this.db=this.apiDB.getDatabase()}},{key:"resumeList",value:function(t){var e=t.map(function(t){return t["Correo Electrónico"]||t["Lugar"]}).slice(0,3),n=["."],a=t.map(function(t){return t["Correo Electrónico"]||t["Lugar"]}).slice(t.length-3,t.length);return[].concat(Object(i["a"])(e),n,Object(i["a"])(a))}},{key:"onDragAndDropLoadDistributors",value:function(t){this.isLoading=!1,this.DATA.AUTHORIZED_DISTRIBUTORS=t}},{key:"onDragAndDropStartDistributors",value:function(){this.isLoading=!0,this.DATA.AUTHORIZED_DISTRIBUTORS=[]}},{key:"onDragAndDropLoadShops",value:function(t){this.isLoading=!1,this.DATA.AUTHORIZED_SHOPS=t}},{key:"onDragAndDropStartShops",value:function(){this.isLoading=!0,this.DATA.AUTHORIZED_SHOPS=[]}},{key:"clear",value:function(){this.DATA.AUTHORIZED_SHOPS=[],this.DATA.AUTHORIZED_DISTRIBUTORS=[]}},{key:"save",value:function(){var t=this;if(this.isLoading=!0,this.DATA.AUTHORIZED_DISTRIBUTORS.length>0){var e=this.DATA.AUTHORIZED_DISTRIBUTORS.map(function(t){return{code:(t["Codigo"]||"").replace(/ +(?= )/g,""),nit:(t["Nro nit"]||"").replace(/ +(?= )/g,""),address:(t["Dirección"]||"").replace(/ +(?= )/g,""),phone:(t["Teléfono"]||"").replace(/ +(?= )/g,""),personal_name:{firstname:(t["Nombre 1"]||"").replace(/ +(?= )/g,""),secondname:(t["Nombre 2"]||"").replace(/ +(?= )/g,""),lastname:(t["Apellido 1"]||"").replace(/ +(?= )/g,""),lastname2:(t["Apellido 2"]||"").replace(/ +(?= )/g,""),fullname:"".concat(t["Nombre 1"]||""," ").concat(t["Nombre 2"]||""," ").concat(t["Apellido 1"]||""," ").concat(t["Apellido 2"]||"").replace(/ +(?= )/g,"")},business_name:(t["Razon Social"]||"").replace(/ +(?= )/g,""),country:(t["Pais"]||"").replace(/ +(?= )/g,""),department:(t["Departamento"]||"").replace(/ +(?= )/g,""),city:(t["Ciudad"]||"").replace(/ +(?= )/g,""),email:(t["Correo Electrónico"]||"").replace(/ +(?= )/g,"")}});this.db.setAuthorizedDistributors(e).then(function(e){t.isLoading=!1}).catch(function(t){return console.error(t)})}if(this.DATA.AUTHORIZED_SHOPS.length>0){var n=this.DATA.AUTHORIZED_SHOPS.map(function(t){return{city:t["Ciudad"]||"",address:t["Dirección"]||"",place:t["Lugar"]||"",local:t["Local"]||"",phone:t["Teléfono"]||"",schedule:t["Horario Atención"]||"",daytime:t["Jornada"]||""}});this.db.setAuthorizedShops(n).then(function(e){t.isLoading=!1}).catch(function(t){return console.error(t)})}}}]),e}(S["c"]);g=d["__decorate"]([Object(S["a"])({components:{DragAndDropExcelDistributorsComponent:A["a"],DragAndDropExcelShopsComponent:p["a"]},name:"AdminDistributorsAndShopsPageComponent"})],g);var T=g,h=T,O=(n("8cd1"),n("2877")),b=Object(O["a"])(h,a,o,!1,null,"7c202e83",null);e["a"]=b.exports},"8cd1":function(t,e,n){"use strict";var a=n("9759"),o=n.n(a);o.a},9759:function(t,e,n){}}]);