(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["admin~ea1f58e8"],{"05b5":function(e,t,n){},"0757":function(e,t,n){"use strict";var a=n("ffb4"),i=n.n(a);i.a},"086d":function(e,t,n){e.exports=n.p+"img/s1-green.4d47514e.png"},"0cc7":function(e,t,n){},2067:function(e,t,n){"use strict";var a=n("42e6"),i=n.n(a);i.a},"413d":function(e,t,n){"use strict";var a=n("f640"),i=n.n(a);i.a},"42e6":function(e,t,n){},"4c20":function(e,t,n){},"4c34":function(e,t,n){e.exports=n.p+"img/s2-green.a89564ee.png"},"4fd9":function(e,t,n){"use strict";var a=n("0cc7"),i=n.n(a);i.a},"5ec4":function(e,t,n){},6190:function(e,t,n){},"8cd1":function(e,t,n){"use strict";var a=n("9759"),i=n.n(a);i.a},9228:function(e,t,n){e.exports=n.p+"img/s1-yellow.316bd3ee.png"},9759:function(e,t,n){},a238:function(e,t,n){"use strict";var a=n("6190"),i=n.n(a);i.a},b2e5:function(e,t,n){"use strict";var a=n("e797"),i=n.n(a);i.a},b2fa:function(e,t,n){e.exports=n.p+"img/ajax-loader.0a8f7c22.gif"},b654:function(e,t,n){e.exports=n.p+"img/s0-yellow.181530c4.png"},c33b:function(e,t,n){"use strict";var a=n("5ec4"),i=n.n(a);i.a},ca25:function(e,t,n){"use strict";var a=n("e7f7"),i=n.n(a);i.a},d3e7:function(e,t,n){},db39:function(e,t,n){e.exports=n.p+"img/s0-green.eaae9ccf.png"},dc2e:function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"view admin"},[a("div",{staticClass:"wrapper"},[a("HeaderComponent"),a("div",{staticClass:"panels"},[a("div",{staticClass:"panels-menu"},[a("AdminPanelsMenuComponent",{attrs:{pages:e.pages},on:{btnChange:e.setPanelByTitle}})],1),a("div",{staticClass:"panels-content"},[e.currentPageTitle?e._e():a("div",{staticClass:"panel no-module",staticStyle:{padding:"2em"}},[a("h1",[e._v("Trianon Panel de Admin*")]),a("img",{attrs:{src:n("3002")}}),a("h5",[e._v("Selecciona un modulo del menu")])]),e._l(e.pages,function(t,n){return a("div",{key:n,staticClass:"panel"},[e.isPanelActiveByTitle(t.title)?a("div",[a("div",{staticClass:"panel-content",staticStyle:{padding:"2em 1em"}},[a(t.component,{tag:"component"})],1)]):e._e()])})],2)])],1)])},i=[],o=n("d225"),r=n("b0b4"),s=n("308d"),c=n("6bb5"),l=n("4e2b"),u=n("9ab4"),d=n("8dc2"),p=n.n(d),g=n("60a3"),f=n("4ef3"),m=n("9dc0"),A=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"panels-menu-wrapper"},[n("Slide",e._l(e.pages,function(t,a){return n("a",{key:a,on:{click:function(n){return e.adminOpenPanelByTitle(t.title)}}},[n("span",{staticClass:"panels-menu-button",class:e.isActive(t.title)},[e._v(e._s(t.titulo))])])}),0)],1)},h=[],v=(n("6762"),n("2fdb"),n("db0f")),O=function(e){function t(){var e;return Object(o["a"])(this,t),e=Object(s["a"])(this,Object(c["a"])(t).apply(this,arguments)),e.email="",e.currentPanelTitle="",e.secureMenu=[{title:"Title",users:["jl.mayorga236@gmail.com","luiska93@hotmail.com"]},{title:"Dispatches",users:["jl.mayorga236@gmail.com","luiska93@hotmail.com","despachos.web.trianon@gmail.com"]},{title:"Orders",users:["jl.mayorga236@gmail.com","luiska93@hotmail.com","sistemas.web.trianon@gmail.com"]},{title:"Users",users:["jl.mayorga236@gmail.com"]},{title:"Swiper",users:["jl.mayorga236@gmail.com","luiska93@hotmail.com"]},{title:"Banners",users:["jl.mayorga236@gmail.com"]},{title:"Products",users:["jl.mayorga236@gmail.com","luiska93@hotmail.com","sistemas.web.trianon@gmail.com"]},{title:"Categories",users:["jl.mayorga236@gmail.com","luiska93@hotmail.com"]},{title:"DistributorsAndSHops",users:["jl.mayorga236@gmail.com","luiska93@hotmail.com","sistemas.web.trianon@gmail.com","distribuidores.web.trianon@gmail.com"]}],e}return Object(l["a"])(t,e),Object(r["a"])(t,[{key:"mounted",value:function(){var e=JSON.parse(localStorage.getItem("user")||"");this.email=e.email,console.warn(""),console.warn("this.email"),console.warn(this.email),console.warn("")}},{key:"isUserAllowedByPageTitle",value:function(e){var t=this,n=this.secureMenu.filter(function(n){return n.title===e&&n.users.includes(t.email)});return n.length>0}},{key:"adminOpenPanelByTitle",value:function(e){this.currentPanelTitle===e?(this.currentPanelTitle="",this.$emit("btnChange","")):(this.currentPanelTitle=e,this.$emit("btnChange",e))}},{key:"isActive",value:function(e){return this.currentPanelTitle===e?"active":"no-active"}}]),t}(g["c"]);u["__decorate"]([Object(g["b"])({default:[]})],O.prototype,"pages",void 0),O=u["__decorate"]([Object(g["a"])({components:{Slide:v["Slide"]}})],O);var S=O,R=S,E=(n("c33b"),n("2877")),D=Object(E["a"])(R,A,h,!1,null,null,null),T=D.exports,C=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"admin page title"},[a("h1",[e._v("TITULO")]),a("form",[a("div",{staticClass:"input"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.DATA.title,expression:"DATA.title"}],attrs:{type:"text",placeholder:"Titulo del Header"},domProps:{value:e.DATA.title},on:{input:function(t){t.target.composing||e.$set(e.DATA,"title",t.target.value)}}})]),a("div",{staticClass:"buttons"},[a("div",{staticClass:"button clear",on:{click:function(t){return e.clear()}}},[e._v("BORRAR")]),a("div",{staticClass:"button save",on:{click:function(t){return e.save()}}},[e._v("GUARDAR")])])]),e.isLoading?a("div",{staticClass:"loader"},[a("img",{attrs:{src:n("b2fa"),width:"25px"}})]):e._e()])},b=[],P=n("185b"),_=function(e){function t(){var e;return Object(o["a"])(this,t),e=Object(s["a"])(this,Object(c["a"])(t).apply(this,arguments)),e.DATA={title:""},e.isLoading=!1,e.apiDB=new P["a"],e.db={},e}return Object(l["a"])(t,e),Object(r["a"])(t,[{key:"beforeMount",value:function(){var e=this;this.apiDB.setDatabaseByName("SETTINGS-DB"),this.db=this.apiDB.getDatabase(),this.isLoading=!0,this.db.getTitle().then(function(t){e.DATA.title=t,e.isLoading=!1}).catch(function(e){return console.error(e)})}},{key:"clear",value:function(){this.DATA.title=""}},{key:"save",value:function(){var e=this;this.isLoading=!0,this.db.setTitle(this.DATA.title).then(function(t){console.log(t),e.isLoading=!1}).catch(function(e){return console.error(e)})}}]),t}(g["c"]);_=u["__decorate"]([Object(g["a"])({components:{},name:"AdminTitlePageComponent"})],_);var I=_,y=I,L=(n("ca25"),Object(E["a"])(y,C,b,!1,null,"2a6ec5dc",null)),N=L.exports,B=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"admin page title"},[a("h1",[e._v("DESPACHOS")]),a("form",e._l(e.queueSorted,function(t,i){return a("div",{key:i,staticStyle:{display:"inline-block",width:"fit-content","vertical-align":"top"}},[t.ID&&e.isOnDate(t)?a("div",{staticClass:"queue-card"},[a("div",{staticClass:"queue-card-header",staticStyle:{"text-align":"left"}},[a("span",{staticStyle:{"font-weight":"900"}},[e._v(e._s(t.products[0].ref)+"  "+e._s(e.isOnDate(t))+"/")]),a("br"),a("span",{staticStyle:{"font-weight":"100","font-size":"0.7em"}},[e._v(e._s(t.ID))])]),a("center",[a("v-lazy-image",{attrs:{src:e.getPhotoURL(t.products[0].ref)[1],"src-placeholder":e.getPhotoURL(t.products[0].ref)[0]}})],1),a("div",{staticClass:"queue-card-preview"},[a("div",{staticClass:"queue-card-preview-col"},[a("h1",{staticClass:"title"},[a("strong",[e._v("Fecha de Compra")]),e._v("\n              : "+e._s(e.getDate(t.meta.createdAt))+"\n            ")]),a("h1",{staticClass:"title"},[a("strong",[e._v("Producto")]),e._v("\n              : "+e._s(t.products[0].ref)+"\n            ")]),a("h1",{staticClass:"title"},[a("strong",[e._v("Email")]),e._v("\n              : "+e._s(t.shipping.email)+"\n            ")]),a("h1",{staticClass:"title"},[a("strong",[e._v("Teléfono")]),e._v("\n              : "+e._s(t.shipping.phone)+"\n            ")]),a("h1",{staticClass:"title"},[a("strong",[e._v("Dirección")]),e._v("\n              : "+e._s(t.shipping.address)+" "+e._s(t.shipping.info)+"\n            ")]),a("h1",{staticClass:"title"},[a("strong",[e._v("Barrio")]),e._v("\n              : "+e._s(t.shipping.neighbourhood)+"\n            ")]),a("h1",{staticClass:"title"},[a("strong",[e._v("Municipio")]),e._v("\n              : "+e._s(t.shipping.city)+" , "+e._s(t.shipping.department)+"\n            ")])])]),a("div",{staticClass:"queue-card-comment"},[e._v(e._s(t.comment))]),a("a",{attrs:{href:e.getInvoiceURL(t.ID),target:"_blank"}},[a("div",{staticClass:"queue-card-invoice-button"},[e._v("VER INFORMACIÓN DE PEDIDO")])]),a("div",{staticClass:"queue-card-shipping-info"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.billing.number,expression:"item.billing.number"}],attrs:{type:"text",placeholder:"Numero de Factura"},domProps:{value:t.billing.number},on:{input:function(n){n.target.composing||e.$set(t.billing,"number",n.target.value)}}}),a("select",{directives:[{name:"model",rawName:"v-model",value:t.shipping.shipping_company,expression:"item.shipping.shipping_company"}],on:{change:function(n){var a=Array.prototype.filter.call(n.target.options,function(e){return e.selected}).map(function(e){var t="_value"in e?e._value:e.value;return t});e.$set(t.shipping,"shipping_company",n.target.multiple?a:a[0])}}},e._l(e.ShippingCompanies,function(t,n){return a("option",{key:n,domProps:{value:t.name}},[e._v(e._s(t.name))])}),0),a("input",{directives:[{name:"model",rawName:"v-model",value:t.shipping.tracker_code,expression:"item.shipping.tracker_code"}],attrs:{type:"text",placeholder:"Codigo de Guia"},domProps:{value:t.shipping.tracker_code},on:{input:function(n){n.target.composing||e.$set(t.shipping,"tracker_code",n.target.value)}}}),a("input",{directives:[{name:"model",rawName:"v-model",value:t.shipping.delivery_date,expression:"item.shipping.delivery_date"}],attrs:{type:"date",placeholder:"Fecha de entrega"},domProps:{value:t.shipping.delivery_date},on:{input:function(n){n.target.composing||e.$set(t.shipping,"delivery_date",n.target.value)}}})]),a("div",{staticClass:"queue-card-row states"},[a("div",{staticClass:"state",on:{click:function(n){return e.setState(t,"IN PROCESS: IN FACTORY")}}},[a("div",{staticClass:"state-inStock-icon"},[e.isStateInStock(t)?a("img",{attrs:{src:n("db39")}}):e._e(),e.isStateInStock(t)?e._e():a("img",{attrs:{src:n("b654")}})]),a("div",{staticClass:"state-label"},[e._v("EN FABRICA")])]),a("div",{staticClass:"state",on:{click:function(n){return e.setState(t,"IN PROCESS: IN SHIPPING")}}},[a("div",{staticClass:"state-inDispatches"},[e.isStateInShipping(t)?a("img",{attrs:{src:n("086d")}}):e._e(),e.isStateInShipping(t)?e._e():a("img",{attrs:{src:n("9228")}})]),a("div",{staticClass:"state-label"},[e._v("ENVIADO")])]),a("div",{staticClass:"state",on:{click:function(n){return e.setState(t,"IN PROCESS: IN DELIVERED")}}},[a("div",{staticClass:"state-inShipping"},[e.isStateInDelivered(t)?a("img",{attrs:{src:n("4c34")}}):e._e(),e.isStateInDelivered(t)?e._e():a("img",{attrs:{src:n("f3fe")}})]),a("div",{staticClass:"state-label"},[e._v("RECIBIDO")])])]),a("div",{staticClass:"queue-card-save-button",on:{click:function(n){return e.save(t)}}},[e._v("GUARDAR")]),a("div",{staticClass:"queue-card-row"})],1):e._e()])}),0),e.isLoading?a("div",{staticClass:"loader"},[a("img",{attrs:{src:n("b2fa"),width:"25px"}})]):e._e()])},w=[],k=(n("55dd"),n("7f7f"),n("a481"),n("ac6a"),n("59ca")),M=n.n(k),U=function(e){function t(){var e;return Object(o["a"])(this,t),e=Object(s["a"])(this,Object(c["a"])(t).apply(this,arguments)),e.DATA={title:""},e.isLoading=!1,e.apiDB=new P["a"],e.db={},e.queue=[],e.ShippingCompanies=[{name:"TCC",url:"https://www.tcc.com.co/logistica/servicios-on-line/rastrear-envios/"},{name:"INTERRAPIDISIMO",url:"https://www.interrapidisimo.com/sigue-tu-envio/"},{name:"SERVIENTREGA",url:" SERVIENTRGA.COM"},{name:"DHL",url:"http://www.dhl.com.co/es/express/rastreo.html"},{name:"FEDEX",url:"https://www.fedex.com/es-co/tracking.html"},{name:"DEPRISA",url:"https://www.deprisa.com/"},{name:"COORDINADORA",url:"https://www.coordinadora.com/portafolio-de-servicios/servicios-en-linea/rastrear-guias/"},{name:"VELOTAX",url:"https://www.velotax.com.co/mensajeria"},{name:"4/72",url:"http://www.4-72.com.co/"}],e}return Object(l["a"])(t,e),Object(r["a"])(t,[{key:"beforeMount",value:function(){var e=this,t=M.a.firestore();this.queue=[],t.collection("SHOPPING_HISTORY").get().then(function(t){t.forEach(function(t){var n=t.data();n.shipping.delivery_date=e.formatDate(n.shipping.delivery_date),e.queue.push(n)})})}},{key:"isOnDate",value:function(e){var t=!0;try{var n=864e5,a=e.meta.updatedAt.toDate(),i=new Date,o=Math.round(Math.abs((i.getTime()-a.getTime())/n));"IN PROCESS: IN DELIVERED"===e.state&&(t=!(o>15)),"IN PROCESS: WATING FOR PAYMENT"===e.state&&(t=!1)}catch(r){console.error(r)}return t}},{key:"getDate",value:function(e){var t=new Date(e.toDate()),n=t,a=n.getUTCMonth()+1,i=n.getUTCDate(),o=n.getUTCFullYear(),r=i+"/"+a+"/"+o;return r}},{key:"formatDate",value:function(e){var t,n,a,i;try{t=e.toDate(),n=""+(t.getMonth()+1),a=""+t.getDate(),i=t.getFullYear()}catch(o){t=new Date,n=""+(t.getMonth()+1),a=""+t.getDate(),i=t.getFullYear()}return n.length<2&&(n="0"+n),a.length<2&&(a="0"+a),[i,n,a].join("-")}},{key:"getInvoiceURL",value:function(e){return"https://firebasestorage.googleapis.com/v0/b/trianon-co-pwa-dev.appspot.com/o/Shop-InVoices%2F".concat(e,".pdf?alt=media&token=f0f2ab54-4e49-4d22-9e79-ab18233e4af7")}},{key:"getPhotoURL",value:function(e){var t=e.replace(" ",""),n="https://firebasestorage.googleapis.com/v0/b/trianon-co-pwa-dev.appspot.com/o/Shop-Products-Photos%2Fhd%2F".concat(t,"-01.jpg?alt=media&token=c392cfe1-c92e-4bb8-97f1-cf815a641f01"),a="https://firebasestorage.googleapis.com/v0/b/trianon-co-pwa-dev.appspot.com/o/Shop-Products-Photos%2Fthumb%2F".concat(t,"-01.jpg?alt=media&token=c392cfe1-c92e-4bb8-97f1-cf815a641f01");return[a,n]}},{key:"save",value:function(e){var t=this;if(e.state.includes("IN PROCESS: IN FACTORY")){this.isLoading=!0;var n=JSON.parse(""+JSON.stringify(e)),a="https://us-central1-trianon-co-pwa-dev.cloudfunctions.net/HandleUpdateInStock?ID=".concat(n.ID);this.$http.get(a).then(function(e){t.isLoading=!1,console.warn(e)}).catch(function(e){console.error(e)})}if(e.state.includes("IN PROCESS: IN SHIPPING")){var i=JSON.parse(""+JSON.stringify(e)),o=i.shipping.shipping_company,r=this.ShippingCompanies.filter(function(e){return e.name===o})[0].url;i.shipping.tracker_link=r;var s=new Date(i.shipping.delivery_date.replace("-","/")).getTime();i.shipping.delivery_date=s,this.isLoading=!0;var c="https://us-central1-trianon-co-pwa-dev.cloudfunctions.net/HandleUpdateInShipping?ID=".concat(i.ID,"&BILLING_NUMBER=").concat(i.billing.number,"&SHIPPING_COMPANY=").concat(i.shipping.shipping_company,"&SHIPPING_DELIVERY_DATE=").concat(i.shipping.delivery_date,"&SHIPPING_TRACKER_CODE=").concat(i.shipping.tracker_code,"&SHIPPING_TRACKER_LINK=").concat(encodeURIComponent(i.shipping.tracker_link),"&");this.$http.get(c).then(function(e){t.isLoading=!1,console.warn(e)}).catch(function(e){console.error(e)})}if(e.state.includes("IN PROCESS: IN DELIVERED")){this.isLoading=!0;var l=JSON.parse(""+JSON.stringify(e)),u="https://us-central1-trianon-co-pwa-dev.cloudfunctions.net/HandleUpdateInDelivered?ID=".concat(l.ID);this.$http.get(u).then(function(e){t.isLoading=!1,console.warn(e)}).catch(function(e){console.error(e)})}}},{key:"isStateInStock",value:function(e){return e.state.includes("IN PROCESS: IN FACTORY")||e.state.includes("IN PROCESS: IN SHIPPING")||e.state.includes("IN PROCESS: IN DELIVERED")}},{key:"isStateInShipping",value:function(e){return e.state.includes("IN PROCESS: IN SHIPPING")||e.state.includes("IN PROCESS: IN DELIVERED")}},{key:"isStateInDelivered",value:function(e){return e.state.includes("IN PROCESS: IN DELIVERED")}},{key:"setState",value:function(e,t){e.state.includes(t)?(e.state.includes("IN PROCESS: IN FACTORY")&&(e.state="IN PROCESS: PAYMENT SUCCESSFULL"),e.state.includes("IN PROCESS: IN SHIPPING")&&(e.state="IN PROCESS: IN FACTORY"),e.state.includes("IN PROCESS: IN DELIVERED")&&(e.state="IN PROCESS: IN SHIPPING")):e.state=t,console.log(e.state)}},{key:"clear",value:function(){this.DATA.title=""}},{key:"queueSorted",get:function(){var e=this.queue.sort(function(e,t){return t.meta.createdAt.seconds-e.meta.createdAt.seconds});return e}}]),t}(g["c"]);U=u["__decorate"]([Object(g["a"])({components:{VLazyImage:p.a},name:"AdminDispatchesPageComponent"})],U);var j=U,x=j,H=(n("2067"),Object(E["a"])(x,B,w,!1,null,"38226e79",null)),G=H.exports,F=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"admin page"})},V=[],$=function(e){function t(){return Object(o["a"])(this,t),Object(s["a"])(this,Object(c["a"])(t).apply(this,arguments))}return Object(l["a"])(t,e),t}(g["c"]);$=u["__decorate"]([Object(g["a"])({components:{},name:"AdminTitlePageComponent"})],$);var W=$,K=W,Y=Object(E["a"])(K,F,V,!1,null,null,null),J=Y.exports,q=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"admin page orders"},[n("div",{staticClass:"wrapper"},[n("h1",[e._v("ORDENES DE COMPRA")]),n("div",{staticClass:"orders"},[n("vue-good-table",{attrs:{"search-options":{enabled:!0},"select-options":{enabled:!1},columns:e.columns,rows:e.queue},on:{"on-selected-rows-change":e.selectionChanged}},[n("div",{attrs:{slot:"selected-row-actions"},slot:"selected-row-actions"},[n("button",{staticStyle:{display:"block"},on:{click:function(t){return e.downloadInvoices()}}},[e._v(" Descargar InVoices ")])]),n("div",{attrs:{slot:"selected-row-actions"},slot:"selected-row-actions"},[n("button",{staticStyle:{display:"block"},on:{click:function(t){return e.deleteOrder()}}},[e._v(" Borrar ")])])])],1)])])},Z=[],z=(n("dac4"),n("f617")),X=function(e){return"\n\n    const api = 'https://us-central1-trianon-co-pwa-dev.cloudfunctions.net/HandleUpdateInBuy?ID=".concat(e,"';\n\n    fetch(api)\n    .then(function(response) {\n      const res = JSON.stringify(response.json());\n      location.reload();\n    })\n    .catch(function(error) {\n      window.alert('ERROR')\n    });\n    \n  \n")},Q=function(e){function t(){var e;return Object(o["a"])(this,t),e=Object(s["a"])(this,Object(c["a"])(t).apply(this,arguments)),e.apiDB=new P["a"],e.db={},e.inVoices=[],e.queue=[],e.orders=[],e.ORDER_STATE="IN PROCESS: PAYMENT SUCCESSFULL",e.columns=[{label:"Pago",field:"payment",html:!0},{label:"Fecha Compra",field:"createdAt",type:"date",dateInputFormat:"dd-MM-yyyy",dateOutputFormat:"dd/MM/yyyy"},{label:"Ref",field:"ref"},{label:"Email",field:"email",type:"string"},{label:"Telefóno",field:"phone",type:"string"},{label:"Precio",field:"price",type:"string"},{label:"Producto",field:"product",type:"string"},{label:"Foto",field:"photo",html:!0},{label:"InVoice",field:"invoice",html:!0},{label:"Delete",field:"delete",html:!0}],e.rows=[{ref:"REF_OERFEF_eRF",email:"wallamejorge@hotmail.com",phone:"300531837",price:"0.00",product:"BOTAS NEGRAS",photo:'<img style="width:50px" src="https://firebasestorage.googleapis.com/v0/b/trianon-co-pwa-dev.appspot.com/o/Shop-Products-Photos%2Fhd%2FHR156-01-01.jpg?alt=media&token=c392cfe1-c92e-4bb8-97f1-cf815a641f01">',invoice:'<a href="https://firebasestorage.googleapis.com/v0/b/trianon-co-pwa-dev.appspot.com/o/Shop-InVoices%2F07f3518fcbc0d26abd6ec782d01a827b.pdf?alt=media&token=f0f2ab54-4e49-4d22-9e79-ab18233e4af7" download="w3logo"> DESCARGAR </a>',delete:'<a href="https://firebasestorage.googleapis.com/v0/b/trianon-co-pwa-dev.appspot.com/o/Shop-InVoices%2F07f3518fcbc0d26abd6ec782d01a827b.pdf?alt=media&token=f0f2ab54-4e49-4d22-9e79-ab18233e4af7" download="w3logo"> BORRAR </a>'}],e}return Object(l["a"])(t,e),Object(r["a"])(t,[{key:"beforeMount",value:function(){var e=this,t=M.a.firestore();this.queue=[],t.collection("SHOPPING_HISTORY").get().then(function(t){t.forEach(function(t){var n=t.data(),a=n.meta.createdAt.toDate(),i=a.getDate(),o=a.getMonth()+1,r=a.getFullYear();a=o<10?"".concat(i,"-0").concat(o,"-").concat(r):"".concat(i,"-").concat(o,"-").concat(r);var s=n.products.map(function(e){return e.ref}).reduce(function(e,t){return e+" "+t},""),c=n.products.map(function(e){return e.ref_photo_code}).reduce(function(e,t){return" <br> "+'<img style="width:50px" src="https://firebasestorage.googleapis.com/v0/b/trianon-co-pwa-dev.appspot.com/o/Shop-Products-Photos%2Fhd%2F'.concat(decodeURI(t).replace(" ",""),'-01.jpg?alt=media&token=c392cfe1-c92e-4bb8-97f1-cf815a641f01">')+e+" <br> "},""),l=n.products.map(function(e){return e.description}).reduce(function(e,t){return e+" "+t}),u={id:n.id,ref:s,email:n.shipping.email,phone:n.shipping.phone,price:e.toCurrent(n.meta.total),product:l,createdAt:a,payment:"\n\n                      ".concat("IN PROCESS: WATING FOR PAYMENT"===n.state?'<div class="payment-button" onclick="'+X(n.ID)+'">CONFIRMAR</div>':"","\n                      ").concat("IN PROCESS: WATING FOR PAYMENT"!==n.state?'<div class="payment-label">PAGO CONFIRMADO</div>':"","\n                      \n                "),photo:c,delete:"<a></a>",invoice:'<a href="https://firebasestorage.googleapis.com/v0/b/trianon-co-pwa-dev.appspot.com/o/Shop-InVoices%2F'.concat(n.ID,'.pdf?alt=media&token=f0f2ab54-4e49-4d22-9e79-ab18233e4af7" download="').concat(n.ID,'" target="_blank"> DESCARGAR </a>')};"IN PROCESS: PAYMENT SUCCESSFULL"!==n.state&&"IN PROCESS: IN FACTORY"!==n.state&&"IN PROCESS: WATING FOR PAYMENT"!==n.state||(e.queue.push(u),console.warn({doc_data:n,doc_queue:u})),e.orders.push(n)})})}},{key:"mount",value:function(){}},{key:"selectionChanged",value:function(e){var t=e.selectedRows;console.error(t);var n=t.map(function(e){return e.invoice.replace('<a href="',"").replace('" download="w3logo"> DESCARGAR </a>')});console.warn(""),console.warn(n),this.inVoices=n}},{key:"downloadInvoices",value:function(){this.inVoices}},{key:"download_file",value:function(e,t){var n=document.createElement("a");n.href=e,n.download=t,document.body.appendChild(n),n.click(),document.body.removeChild(n)}},{key:"toCurrent",value:function(e){if("number"!==typeof e)return e;var t=new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:0});return t.format(e)}}]),t}(g["c"]);Q=u["__decorate"]([Object(g["a"])({components:{VueGoodTable:z["a"]},name:"AdminOrdersPageComponent"})],Q);var ee=Q,te=ee,ne=(n("e714"),Object(E["a"])(te,q,Z,!1,null,null,null)),ae=ne.exports,ie=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"admin page title"},[a("h1",[e._v("SWIPER")]),a("form",[e._l(e.DATA.SWIPER,function(t,n){return a("div",{key:n,staticClass:"input"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.id,expression:"swiper.id"}],attrs:{type:"text",placeholder:"Posición"},domProps:{value:t.id},on:{input:function(n){n.target.composing||e.$set(t,"id",n.target.value)}}}),a("input",{directives:[{name:"model",rawName:"v-model",value:t.description,expression:"swiper.description"}],attrs:{type:"text",placeholder:"Descripción"},domProps:{value:t.description},on:{input:function(n){n.target.composing||e.$set(t,"description",n.target.value)}}}),a("input",{directives:[{name:"model",rawName:"v-model",value:t.filename_hd,expression:"swiper.filename_hd"}],attrs:{type:"text",placeholder:"Nombre de Archivo de HD"},domProps:{value:t.filename_hd},on:{input:function(n){n.target.composing||e.$set(t,"filename_hd",n.target.value)}}}),a("input",{directives:[{name:"model",rawName:"v-model",value:t.filename_thumb,expression:"swiper.filename_thumb"}],attrs:{type:"text",placeholder:"Hombre de Archivo Thumb"},domProps:{value:t.filename_thumb},on:{input:function(n){n.target.composing||e.$set(t,"filename_thumb",n.target.value)}}}),a("div",{staticClass:"button remove",on:{click:function(n){return e.remove(t.id)}}},[a("i",{staticClass:"fas fa-trash-alt"})])])}),a("div",{staticClass:"input"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.DATA.SWIPER_BLANK.description,expression:"DATA.SWIPER_BLANK.description"}],attrs:{type:"text",placeholder:"Descripción"},domProps:{value:e.DATA.SWIPER_BLANK.description},on:{input:function(t){t.target.composing||e.$set(e.DATA.SWIPER_BLANK,"description",t.target.value)}}}),a("input",{directives:[{name:"model",rawName:"v-model",value:e.DATA.SWIPER_BLANK.filename_hd,expression:"DATA.SWIPER_BLANK.filename_hd"}],attrs:{type:"text",placeholder:"Nombre de Archivo de HD"},domProps:{value:e.DATA.SWIPER_BLANK.filename_hd},on:{input:function(t){t.target.composing||e.$set(e.DATA.SWIPER_BLANK,"filename_hd",t.target.value)}}}),a("input",{directives:[{name:"model",rawName:"v-model",value:e.DATA.SWIPER_BLANK.filename_thumb,expression:"DATA.SWIPER_BLANK.filename_thumb"}],attrs:{type:"text",placeholder:"Hombre de Archivo Thumb"},domProps:{value:e.DATA.SWIPER_BLANK.filename_thumb},on:{input:function(t){t.target.composing||e.$set(e.DATA.SWIPER_BLANK,"filename_thumb",t.target.value)}}}),a("div",{staticClass:"button add",on:{click:function(t){return e.add()}}},[a("i",{staticClass:"fas fa-plus-square"})])]),a("div",{staticClass:"buttons"},[a("div",{staticClass:"button clear",on:{click:function(t){return e.clear()}}},[e._v("BORRAR")]),a("div",{staticClass:"button save",on:{click:function(t){return e.save()}}},[e._v("GUARDAR")])])],2),e.isLoading?a("div",{staticClass:"loader"},[a("img",{attrs:{src:n("b2fa"),width:"25px"}})]):e._e()])},oe=[],re=function(e){function t(){var e;return Object(o["a"])(this,t),e=Object(s["a"])(this,Object(c["a"])(t).apply(this,arguments)),e.DATA={SWIPER:[{id:0,description:"",filename_hd:"",filename_thumb:""},{id:1,description:"",filename_hd:"",filename_thumb:""}],SWIPER_BLANK:{id:0,description:"",filename_hd:"",filename_thumb:""}},e.isLoading=!1,e.apiDB=new P["a"],e.db={},e}return Object(l["a"])(t,e),Object(r["a"])(t,[{key:"beforeMount",value:function(){var e=this;this.apiDB.setDatabaseByName("SETTINGS-DB"),this.db=this.apiDB.getDatabase(),this.isLoading=!0,this.db.getSwiperSlides().then(function(t){e.DATA.SWIPER=t,e.isLoading=!1}).catch(function(e){return console.error(e)})}},{key:"remove",value:function(e){confirm("Seguro deseas borrar este Slide del Swiper?")&&(this.DATA.SWIPER=this.DATA.SWIPER.filter(function(t){return t.id!==e}))}},{key:"add",value:function(){this.DATA.SWIPER_BLANK.id=this.DATA.SWIPER.length,this.DATA.SWIPER.push(JSON.parse(JSON.stringify(this.DATA.SWIPER_BLANK)+"")),this.DATA.SWIPER_BLANK.description="",this.DATA.SWIPER_BLANK.filename_hd="",this.DATA.SWIPER_BLANK.filename_thumb=""}},{key:"clear",value:function(){var e=this;this.isLoading=!0,this.db.getSwiperSlides().then(function(t){e.DATA.SWIPER=t,e.isLoading=!1}).catch(function(e){return console.error(e)})}},{key:"save",value:function(){var e=this;this.isLoading=!0,this.db.setSwiperSlides(this.DATA.SWIPER).then(function(t){e.DATA.SWIPER=t,e.isLoading=!1}).catch(function(e){return console.error(e)})}}]),t}(g["c"]);re=u["__decorate"]([Object(g["a"])({components:{},name:"AdminTitlePageComponent"})],re);var se=re,ce=se,le=(n("f6a5"),Object(E["a"])(ce,ie,oe,!1,null,"1cd392a3",null)),ue=le.exports,de=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"admin page"})},pe=[],ge=function(e){function t(){return Object(o["a"])(this,t),Object(s["a"])(this,Object(c["a"])(t).apply(this,arguments))}return Object(l["a"])(t,e),t}(g["c"]);ge=u["__decorate"]([Object(g["a"])({components:{},name:"AdminTitlePageComponent"})],ge);var fe=ge,me=fe,Ae=Object(E["a"])(me,de,pe,!1,null,null,null),he=Ae.exports,ve=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"admin page products"},[a("form",[a("DragAndDropExcelProductsComponent",{attrs:{message:"PRODUCTOS"},on:{onStart:e.onDragAndDropStartProducts,onLoad:e.onDragAndDropLoadProducts}}),a("div",{staticClass:"buttons"},[a("div",{staticClass:"button clear",on:{click:function(t){return e.clear()}}},[e._v("BORRAR")]),a("div",{staticClass:"button save",on:{click:function(t){return e.save()}}},[e._v("GUARDAR")])])],1),e.isLoading?a("div",{staticClass:"loader"},[a("img",{attrs:{src:n("b2fa"),width:"25px"}})]):e._e()])},Oe=[],Se=(n("456d"),n("8615"),n("20d6"),n("28a5"),n("96cf"),n("3b8d")),Re=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"drag-and-drop-excel"},[n("div",{attrs:{id:"drop-area"}},[n("form",{staticClass:"my-form"},[n("input",{attrs:{type:"file",id:"fileElem3",accept:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"},on:{change:e.handleFiles}}),n("label",{staticClass:"button",staticStyle:{"text-align":"center"},attrs:{for:"fileElem3"}},[e._v(e._s(e.message?e.message:"ARRASTRA TU ARCHIVO EXCEL ACA "))])])])])},Ee=[],De=(n("34ef"),n("1146")),Te=n.n(De),Ce={name:"DragAndDropExcelComponent",props:["message"],data:function(){return{}},methods:{handleFiles:function(e){this.$emit("onStart");var t=e.target.files[0],n=new FileReader;n.readAsArrayBuffer(t);t.name;var a=this;n.onload=function(e){var t=e.target.result,n=a.fixdata(t),i=Te.a.read(btoa(n),{type:"base64"}),o=i.Sheets[i.SheetNames[0]],r=Te.a.utils.sheet_to_json(o);r.map(function(e){Object.values(e);var t=Object.keys(e);return t.map(function(t){var n=(e[t]+" ").toUpperCase().replace(/ +(?= )/g,"");e[t]=n}),e}),a.$emit("onLoad",r)}},fixdata:function(e){for(var t="",n=0,a=10240;n<e.byteLength/a;++n)t+=String.fromCharCode.apply(null,new Uint8Array(e.slice(n*a,n*a+a)));return t+=String.fromCharCode.apply(null,new Uint8Array(e.slice(n*a))),t}}},be=Ce,Pe=(n("0757"),Object(E["a"])(be,Re,Ee,!1,null,null,null)),_e=Pe.exports,Ie=n("9a8a"),ye=n.n(Ie),Le=function(e){function t(){var e;return Object(o["a"])(this,t),e=Object(s["a"])(this,Object(c["a"])(t).apply(this,arguments)),e.isLoading=!1,e.apiDB=new P["a"],e.db={},e.PRODUCTS=[],e}return Object(l["a"])(t,e),Object(r["a"])(t,[{key:"beforeMount",value:function(){this.apiDB.setDatabaseByName("SHOP-DB"),this.db=this.apiDB.getDatabase()}},{key:"onDragAndDropStartProducts",value:function(){this.isLoading=!0}},{key:"onDragAndDropLoadProducts",value:function(e){var t=this;e.map(function(e){var n={ref:t.getProductRef(e),ref_code:t.getProductRefCode(e),ref_color_code:t.getProductRefColorCode(e),ref_size_code:t.getProductRefSizeCode(e),ref_photo_code:t.getProductRefPhotoCode(e),discount:t.getProductDiscount(e),description:t.getProductDescription(e),gender:t.getProductGender(e),category:t.getProductCategory(e).toUpperCase(),short_name:t.getProductShortName(e),barcode:t.getProductBarCode(e),price_cop:t.getProductPriceCOP(e),price_usd:t.getProductPriceUSD(e),line:t.getProductLine(e),color:t.getProductColor(e),height:t.getProductHeight(e),width:t.getProductWidth(e),depth:t.getProductDepth(e)};t.PRODUCTS.push(n)}),this.isLoading=!1}},{key:"save",value:function(){var e=Object(Se["a"])(regeneratorRuntime.mark(function e(){var t,n,a,i,o,r,s,c,l,u,d,p,g,f,m,A,h,v,O,S,R,E,D,T,C;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:console.warn("----------------------------------------------------------------------"),this.isLoading=!0,t=this.PRODUCTS.filter(function(e){return"HOMBRE"===e.gender&&"BILLETERAS"===e.category}),n=this.PRODUCTS.filter(function(e){return"HOMBRE"===e.gender&&"BOLSOS Y MALETINES"===e.category}),a=this.PRODUCTS.filter(function(e){return"HOMBRE"===e.gender&&"CINTURONES"===e.category}),i=this.PRODUCTS.filter(function(e){return"HOMBRE"===e.gender&&"LLAVEROS"===e.category}),o=this.PRODUCTS.filter(function(e){return"HOMBRE"===e.gender&&"PORTA LLAVES"===e.category}),r=this.PRODUCTS.filter(function(e){return"HOMBRE"===e.gender&&"MONEDEROS Y TARJETEROS"===e.category}),s=this.PRODUCTS.filter(function(e){return"HOMBRE"===e.gender&&"PORTA BILLETES"===e.category}),c=this.PRODUCTS.filter(function(e){return"HOMBRE"===e.gender&&"PORTA COSMÉTICOS"===e.category}),l=this.PRODUCTS.filter(function(e){return"HOMBRE"===e.gender&&"PORTA DOCUMENTOS"===e.category}),u=this.PRODUCTS.filter(function(e){return"HOMBRE"===e.gender&&"PORTA PASAPORTES"===e.category}),d=this.PRODUCTS.filter(function(e){return"DAMA"===e.gender&&"BILLETERAS"===e.category}),p=this.PRODUCTS.filter(function(e){return"DAMA"===e.gender&&"BOLSOS Y MALETINES"===e.category}),g=this.PRODUCTS.filter(function(e){return"DAMA"===e.gender&&"CINTURONES"===e.category}),f=this.PRODUCTS.filter(function(e){return"DAMA"===e.gender&&"LLAVEROS"===e.category}),m=this.PRODUCTS.filter(function(e){return"DAMA"===e.gender&&"PORTA LLAVES"===e.category}),A=this.PRODUCTS.filter(function(e){return"DAMA"===e.gender&&"MONEDEROS Y TARJETEROS"===e.category}),h=this.PRODUCTS.filter(function(e){return"DAMA"===e.gender&&"PORTA BILLETES"===e.category}),v=this.PRODUCTS.filter(function(e){return"DAMA"===e.gender&&"PORTA COSMÉTICOS"===e.category&&"PORTA COSMETICOS"===e.category}),O=this.PRODUCTS.filter(function(e){return"DAMA"===e.gender&&"PORTA DOCUMENTOS"===e.category}),S=this.PRODUCTS.filter(function(e){return"DAMA"===e.gender&&"PORTA PASAPORTES"===e.category}),R=[{gender:"HOMBRE",category:"BILLETERAS",data:t},{gender:"HOMBRE",category:"BOLSOS_Y_MALETINES",data:n},{gender:"HOMBRE",category:"CINTURONES",data:a},{gender:"HOMBRE",category:"LLAVEROS",data:i},{gender:"HOMBRE",category:"PORTA_LLAVES",data:o},{gender:"HOMBRE",category:"MONEDEROS_Y_TARJETEROS",data:r},{gender:"HOMBRE",category:"PORTA_BILLETES",data:s},{gender:"HOMBRE",category:"PORTA_COSMETICOS",data:c},{gender:"HOMBRE",category:"PORTA_DOCUMENTOS",data:l},{gender:"HOMBRE",category:"PORTA_PASAPORTES",data:u},{gender:"DAMA",category:"BILLETERAS",data:d},{gender:"DAMA",category:"BOLSOS_Y_MALETINES",data:p},{gender:"DAMA",category:"CINTURONES",data:g},{gender:"DAMA",category:"LLAVEROS",data:f},{gender:"DAMA",category:"PORTA_LLAVES",data:m},{gender:"DAMA",category:"MONEDEROS_Y_TARJETEROS",data:A},{gender:"DAMA",category:"PORTA_BILLETES",data:h},{gender:"DAMA",category:"PORTA_COSMETICOS",data:v},{gender:"DAMA",category:"PORTA_DOCUMENTOS",data:O},{gender:"DAMA",category:"PORTA_PASAPORTES",data:S}],console.warn("--                                                         --"),console.warn("-- Beginig Uploading Productos                             --"),console.warn("--                                                         --"),E=0;case 27:if(!(E<R.length)){e.next=39;break}return D="PRODUCTS",T="PRODUCTS_GENDER_".concat(R[E].gender,"_CATEGORY_").concat(R[E].category),C={gender:R[E].gender,category:R[E].category,products:JSON.stringify(R[E].data)},console.warn(C),console.log(""),e.next=35,this.db.setShopProducts(D,T,C);case 35:e.sent;case 36:E++,e.next=27;break;case 39:this.isLoading=!1;case 40:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}()},{key:"clear",value:function(){this.PRODUCTS=[]}},{key:"getProductRef",value:function(e){return e["REFERENCIA"]}},{key:"getProductRefCode",value:function(e){return e["REFERENCIA"].split("-")[0]}},{key:"getProductRefColorCode",value:function(e){return e["REFERENCIA"].split("-")[1].slice(0,2)}},{key:"getProductRefSizeCode",value:function(e){return e["REFERENCIA"].split("-")[1].slice(2,4)}},{key:"getProductRefPhotoCode",value:function(e){return this.getProductRefCode(e)+"-"+this.getProductRefColorCode(e)}},{key:"getProductDiscount",value:function(e){return e["DESCUENTO"]}},{key:"getProductDescription",value:function(e){return e["NOMBRE LARGO"]}},{key:"getProductGender",value:function(e){return"D"===this.getProductRefCode(e).slice(0,1)?"DAMA":"HOMBRE"}},{key:"getProductCategory",value:function(e){var t=e["NOMBRE LARGO"].toUpperCase(),n=["BILLETERA","CARTERA"],a=["BOLSO","ORGANIZADOR VIAJE","MANOS LIBRES","BOLSO CRUZADO","MORRAL","MALETA","PAPELERA","MALETIN"],i=["CINTURONES"],o=["LLAVERO","LLAVEROS"],r=["MONEDERO","TARJETERO","MONEDAS"],s=["PORTA BILLETES","BILLETES","PORTA BILLETE"],c=["PORTA LAVE","POTA LLAVES"],l=["PORTA COSMÉTICOS","COSMETICOS","PORTA LAPICES"],u=["PORTA DOCUMENTOS","DOCUMENTOS","PORTA DOCUMENTO"],d=["PASAPORTES","PORTA PASAPORTE","PORTA AFEITES","AFEITADORES","AFEITE"],p=ye()(n),g=ye()(a),f=ye()(i),m=ye()(o),A=ye()(r),h=ye()(s),v=ye()(c),O=ye()(l),S=ye()(u),R=ye()(d),E=p.get(t),D=g.get(t),T=f.get(t),C=m.get(t),b=A.get(t),P=h.get(t),_=v.get(t),I=O.get(t),y=S.get(t),L=R.get(t),N=[E,D,T,C,b,P,_,I,y,L],B=N.map(function(e){if(e){var t=e.sort(function(e,t){return t[0]-e[0]}),n=t[0];return n}return null}),w=B.map(function(e){return e||[-1,"NO MATCH"]}),k=w.sort(function(e,t){return t[0]-e[0]}),M=k[0],U=M[1],j={BILLETERAS:n,MORRALES:a,CINTURONES:i,LLAVEROS:o,MONEDEROS_Y_TARJETEROS:r,PORTA_LLAVES:c,PORTA_BILLETES:s,PORTA_COSMETICOS:l,PORTA_DOCUMENTOS:u,PORTA_PASAPORTES:d},x=Object.values(j).findIndex(function(e){return e.includes(U)}),H=Object.keys(j)[x],G={BILLETERAS:"Billeteras",MORRALES:"Bolsos y Maletines",CINTURONES:"Cinturones",LLAVEROS:"Llaveros",MONEDEROS_Y_TARJETEROS:"Monederos y Tarjeteros",PORTA_LLAVES:"Porta Llaves",PORTA_BILLETES:"Porta Billetes",PORTA_COSMETICOS:"Porta Cosméticos",PORTA_DOCUMENTOS:"Porta Documentos",PORTA_PASAPORTES:"Porta Pasaportes"};return G[H]}},{key:"getProductShortName",value:function(e){return e["NOMBRE CORTO"]}},{key:"getProductBarCode",value:function(e){return e["CODIGO BARRAS"]}},{key:"getProductPriceCOP",value:function(e){return parseFloat(e["PRECIO COP"])}},{key:"getProductPriceUSD",value:function(e){return parseFloat(e["PRECIO USD"])}},{key:"getProductLine",value:function(e){return e["LINEA"]}},{key:"getProductColor",value:function(e){return e["COLOR"]}},{key:"getProductHeight",value:function(e){return e["ALTO"]}},{key:"getProductWidth",value:function(e){return e["ANCHO"]}},{key:"getProductDepth",value:function(e){return e["PROFUNDO"]}}]),t}(g["c"]);Le=u["__decorate"]([Object(g["a"])({components:{DragAndDropExcelProductsComponent:_e},name:"AdminTitlePageComponent"})],Le);var Ne=Le,Be=Ne,we=(n("e9e4"),Object(E["a"])(Be,ve,Oe,!1,null,"6491889e",null)),ke=we.exports,Me=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"admin page title"},[a("h1",[e._v("CATEGORIAS DE LA TIENDA")]),a("form",[e._l(e.DATA.CATEGORIES,function(t,n){return a("div",{key:n,staticClass:"input"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.title,expression:"category.title"}],attrs:{type:"text",placeholder:"Descripción"},domProps:{value:t.title},on:{input:function(n){n.target.composing||e.$set(t,"title",n.target.value)}}}),a("div",{staticClass:"button male",class:e.btnActive(t,"HOMBRE"),on:{click:function(n){return e.setBtnActive(t,"HOMBRE")}}},[e._v("HOMBRE")]),a("div",{staticClass:"button female",class:e.btnActive(t,"DAMA"),on:{click:function(n){return e.setBtnActive(t,"DAMA")}}},[e._v("DAMA")]),a("div",{staticClass:"button remove",on:{click:function(n){return e.remove(t.id)}}},[a("i",{staticClass:"fas fa-trash-alt"})])])}),a("div",{staticClass:"input"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.DATA.CATEGORIES_BLANK.title,expression:"DATA.CATEGORIES_BLANK.title"}],attrs:{type:"text",placeholder:"Descripción"},domProps:{value:e.DATA.CATEGORIES_BLANK.title},on:{input:function(t){t.target.composing||e.$set(e.DATA.CATEGORIES_BLANK,"title",t.target.value)}}}),a("div",{staticClass:"button male",class:e.btnActive(e.DATA.CATEGORIES_BLANK,"HOMBRE"),on:{click:function(t){return e.setBtnActive(e.DATA.CATEGORIES_BLANK,"HOMBRE")}}},[e._v("HOMBRE")]),a("div",{staticClass:"button female",class:e.btnActive(e.DATA.CATEGORIES_BLANK,"DAMA"),on:{click:function(t){return e.setBtnActive(e.DATA.CATEGORIES_BLANK,"DAMA")}}},[e._v("DAMA")]),a("div",{staticClass:"button add",on:{click:function(t){return e.add()}}},[a("i",{staticClass:"fas fa-plus-square"})])]),a("div",{staticClass:"buttons"},[a("div",{staticClass:"button clear",on:{click:function(t){return e.clear()}}},[e._v("BORRAR")]),a("div",{staticClass:"button save",on:{click:function(t){return e.save()}}},[e._v("GUARDAR")])])],2),e.isLoading?a("div",{staticClass:"loader"},[a("img",{attrs:{src:n("b2fa"),width:"25px"}})]):e._e()])},Ue=[],je=function(e){function t(){var e;return Object(o["a"])(this,t),e=Object(s["a"])(this,Object(c["a"])(t).apply(this,arguments)),e.DATA={CATEGORIES:[{id:0,title:"",gender:[]}],CATEGORIES_BLANK:{id:0,title:"",gender:[]}},e.isLoading=!1,e.apiDB=new P["a"],e.db={},e}return Object(l["a"])(t,e),Object(r["a"])(t,[{key:"btnActive",value:function(e,t){return e.gender.includes(t)?"active":"no-active"}},{key:"setBtnActive",value:function(e,t){e.gender.includes(t)?e.gender=e.gender.filter(function(e){return e!==t}):e.gender.push(t)}},{key:"beforeMount",value:function(){var e=this;this.apiDB.setDatabaseByName("SETTINGS-DB"),this.db=this.apiDB.getDatabase(),this.isLoading=!0,this.db.getShopCategories().then(function(t){e.DATA.CATEGORIES=t,e.isLoading=!1}).catch(function(e){return console.error(e)})}},{key:"remove",value:function(e){confirm("Seguro deseas borrar esta categoria ?")&&(this.DATA.CATEGORIES=this.DATA.CATEGORIES.filter(function(t){return t.id!==e}))}},{key:"add",value:function(){this.DATA.CATEGORIES_BLANK.id=this.DATA.CATEGORIES.length,this.DATA.CATEGORIES.push(JSON.parse(JSON.stringify(this.DATA.CATEGORIES_BLANK)+"")),this.DATA.CATEGORIES_BLANK.title="",this.DATA.CATEGORIES_BLANK.gender=[]}},{key:"clear",value:function(){var e=this;this.isLoading=!0,this.db.getShopCategories().then(function(t){e.DATA.CATEGORIES=t,e.isLoading=!1}).catch(function(e){return console.error(e)})}},{key:"save",value:function(){var e=this;this.isLoading=!0,this.db.setShopCategories(this.DATA.CATEGORIES).then(function(t){e.DATA.CATEGORIES=t,e.isLoading=!1}).catch(function(e){return console.error(e)})}}]),t}(g["c"]);je=u["__decorate"]([Object(g["a"])({components:{},name:"AdminTitlePageComponent"})],je);var xe=je,He=xe,Ge=(n("4fd9"),Object(E["a"])(He,Me,Ue,!1,null,"697802f6",null)),Fe=Ge.exports,Ve=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"admin page title"},[a("h1",[e._v("DISTRIBUIDORES AUTORIZADOS Y TIENDAS")]),a("form",[a("div",{staticClass:"excel-input"},[a("DragAndDropExcelDistributorsComponent",{attrs:{message:"DISTRIBUIDORES AUTORIZADOS"},on:{onStart:e.onDragAndDropStartDistributors,onLoad:e.onDragAndDropLoadDistributors}}),a("div",e._l(e.resumeList(e.DATA.AUTHORIZED_DISTRIBUTORS),function(t,n){return a("h5",{key:n,staticStyle:{"text-align":"center",padding:"0.5em"}},[e._v(e._s(t))])}),0)],1),a("div",{staticClass:"excel-input"},[a("DragAndDropExcelShopsComponent",{attrs:{message:"TIENDAS AUTORIZADAS"},on:{onStart:e.onDragAndDropStartShops,onLoad:e.onDragAndDropLoadShops}}),a("div",e._l(e.resumeList(e.DATA.AUTHORIZED_SHOPS),function(t,n){return a("h5",{key:n,staticStyle:{"text-align":"center",padding:"0.5em"}},[e._v(e._s(t))])}),0)],1),a("br"),a("div",{staticClass:"buttons"},[a("div",{staticClass:"button clear",on:{click:function(t){return e.clear()}}},[e._v("BORRAR")]),a("div",{staticClass:"button save",on:{click:function(t){return e.save()}}},[e._v("GUARDAR")])])]),e.isLoading?a("div",{staticClass:"loader"},[a("img",{attrs:{src:n("b2fa"),width:"25px"}})]):e._e()])},$e=[],We=n("75fc"),Ke=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"drag-and-drop-excel"},[n("div",{attrs:{id:"drop-area"}},[n("form",{staticClass:"my-form"},[n("input",{attrs:{type:"file",id:"fileElem1",accept:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"},on:{change:e.handleFiles}}),n("label",{staticClass:"button",staticStyle:{"text-align":"center"},attrs:{for:"fileElem1"}},[e._v(e._s(e.message?e.message:"ARRASTRA TU ARCHIVO EXCEL ACA "))])])])])},Ye=[],Je={name:"DragAndDropExcelComponent",props:["message"],data:function(){return{}},methods:{handleFiles:function(e){this.$emit("onStart");var t=e.target.files[0],n=new FileReader;n.readAsArrayBuffer(t);t.name;var a=this;n.onload=function(e){var t=e.target.result,n=a.fixdata(t),i=Te.a.read(btoa(n),{type:"base64"}),o=i.Sheets[i.SheetNames[0]],r=Te.a.utils.sheet_to_json(o);r.map(function(e){Object.values(e);var t=Object.keys(e);return t.map(function(t){var n=(e[t]+" ").toUpperCase().replace(/ +(?= )/g,"");e[t]=n}),e}),a.$emit("onLoad",r)}},fixdata:function(e){for(var t="",n=0,a=10240;n<e.byteLength/a;++n)t+=String.fromCharCode.apply(null,new Uint8Array(e.slice(n*a,n*a+a)));return t+=String.fromCharCode.apply(null,new Uint8Array(e.slice(n*a))),t}}},qe=Je,Ze=(n("413d"),Object(E["a"])(qe,Ke,Ye,!1,null,null,null)),ze=Ze.exports,Xe=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"drag-and-drop-excel"},[n("div",{attrs:{id:"drop-area"}},[n("form",{staticClass:"my-form"},[n("input",{attrs:{type:"file",id:"fileElem2",accept:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"},on:{change:e.handleFiles}}),n("label",{staticClass:"button",staticStyle:{"text-align":"center"},attrs:{for:"fileElem2"}},[e._v(e._s(e.message?e.message:"ARRASTRA TU ARCHIVO EXCEL ACA "))])])])])},Qe=[],et={name:"DragAndDropExcelComponent",props:["message"],data:function(){return{}},methods:{handleFiles:function(e){this.$emit("onStart");var t=e.target.files[0],n=new FileReader;n.readAsArrayBuffer(t);t.name;var a=this;n.onload=function(e){var t=e.target.result,n=a.fixdata(t),i=Te.a.read(btoa(n),{type:"base64"}),o=i.Sheets[i.SheetNames[0]],r=Te.a.utils.sheet_to_json(o);r.map(function(e){Object.values(e);var t=Object.keys(e);return t.map(function(t){var n=(e[t]+" ").toUpperCase().replace(/ +(?= )/g,"");e[t]=n}),e}),a.$emit("onLoad",r)}},fixdata:function(e){for(var t="",n=0,a=10240;n<e.byteLength/a;++n)t+=String.fromCharCode.apply(null,new Uint8Array(e.slice(n*a,n*a+a)));return t+=String.fromCharCode.apply(null,new Uint8Array(e.slice(n*a))),t}}},tt=et,nt=(n("a238"),Object(E["a"])(tt,Xe,Qe,!1,null,null,null)),at=nt.exports,it=function(e){function t(){var e;return Object(o["a"])(this,t),e=Object(s["a"])(this,Object(c["a"])(t).apply(this,arguments)),e.DATA={AUTHORIZED_DISTRIBUTORS:[],AUTHORIZED_SHOPS:[]},e.isLoading=!1,e.apiDB=new P["a"],e.db={},e}return Object(l["a"])(t,e),Object(r["a"])(t,[{key:"beforeMount",value:function(){this.apiDB.setDatabaseByName("SETTINGS-DB"),this.db=this.apiDB.getDatabase()}},{key:"resumeList",value:function(e){var t=e.map(function(e){return e["Correo Electrónico"]||e["Lugar"]}).slice(0,3),n=["."],a=e.map(function(e){return e["Correo Electrónico"]||e["Lugar"]}).slice(e.length-3,e.length);return[].concat(Object(We["a"])(t),n,Object(We["a"])(a))}},{key:"onDragAndDropLoadDistributors",value:function(e){this.isLoading=!1,this.DATA.AUTHORIZED_DISTRIBUTORS=e}},{key:"onDragAndDropStartDistributors",value:function(){this.isLoading=!0,this.DATA.AUTHORIZED_DISTRIBUTORS=[]}},{key:"onDragAndDropLoadShops",value:function(e){this.isLoading=!1,this.DATA.AUTHORIZED_SHOPS=e}},{key:"onDragAndDropStartShops",value:function(){this.isLoading=!0,this.DATA.AUTHORIZED_SHOPS=[]}},{key:"clear",value:function(){this.DATA.AUTHORIZED_SHOPS=[],this.DATA.AUTHORIZED_DISTRIBUTORS=[]}},{key:"save",value:function(){var e=this;if(this.isLoading=!0,this.DATA.AUTHORIZED_DISTRIBUTORS.length>0){var t=this.DATA.AUTHORIZED_DISTRIBUTORS.map(function(e){return{code:(e["Codigo"]||"").replace(/ +(?= )/g,""),nit:(e["Nro nit"]||"").replace(/ +(?= )/g,""),address:(e["Dirección"]||"").replace(/ +(?= )/g,""),phone:(e["Teléfono"]||"").replace(/ +(?= )/g,""),personal_name:{firstname:(e["Nombre 1"]||"").replace(/ +(?= )/g,""),secondname:(e["Nombre 2"]||"").replace(/ +(?= )/g,""),lastname:(e["Apellido 1"]||"").replace(/ +(?= )/g,""),lastname2:(e["Apellido 2"]||"").replace(/ +(?= )/g,""),fullname:"".concat(e["Nombre 1"]||""," ").concat(e["Nombre 2"]||""," ").concat(e["Apellido 1"]||""," ").concat(e["Apellido 2"]||"").replace(/ +(?= )/g,"")},business_name:(e["Razon Social"]||"").replace(/ +(?= )/g,""),country:(e["Pais"]||"").replace(/ +(?= )/g,""),department:(e["Departamento"]||"").replace(/ +(?= )/g,""),city:(e["Ciudad"]||"").replace(/ +(?= )/g,""),email:(e["Correo Electrónico"]||"").replace(/ +(?= )/g,"")}});this.db.setAuthorizedDistributors(t).then(function(t){e.isLoading=!1}).catch(function(e){return console.error(e)})}if(this.DATA.AUTHORIZED_SHOPS.length>0){var n=this.DATA.AUTHORIZED_SHOPS.map(function(e){return{city:e["Ciudad"]||"",address:e["Dirección"]||"",place:e["Lugar"]||"",local:e["Local"]||"",phone:e["Teléfono"]||"",schedule:e["Horario Atención"]||"",daytime:e["Jornada"]||""}});this.db.setAuthorizedShops(n).then(function(t){e.isLoading=!1}).catch(function(e){return console.error(e)})}}}]),t}(g["c"]);it=u["__decorate"]([Object(g["a"])({components:{DragAndDropExcelDistributorsComponent:ze,DragAndDropExcelShopsComponent:at},name:"AdminDistributorsAndShopsPageComponent"})],it);var ot=it,rt=ot,st=(n("8cd1"),Object(E["a"])(rt,Ve,$e,!1,null,"7c202e83",null)),ct=st.exports,lt=function(e){function t(){var e;return Object(o["a"])(this,t),e=Object(s["a"])(this,Object(c["a"])(t).apply(this,arguments)),e.pages=[{title:"Title",titulo:"Titulo",component:N},{title:"Dispatches",titulo:"Despachos",component:G},{title:"Orders",titulo:"Ordenes de Compra",component:ae},{title:"Users",titulo:"Usuarios",component:J},{title:"Swiper",titulo:"Swiper",component:ue},{title:"Banners",titulo:"Banners",component:he},{title:"Products",titulo:"Productos",component:ke},{title:"Categories",titulo:"Categorias",component:Fe},{title:"DistributorsAndSHops",titulo:"Distribuidores y Tiendas",component:ct}],e.currentPageTitle="",e}return Object(l["a"])(t,e),Object(r["a"])(t,[{key:"getEnablePanelByUserRole",value:function(e){return!0}},{key:"isPanelActiveByTitle",value:function(e){return this.getEnablePanelByUserRole(e)&&this.currentPageTitle===e}},{key:"setPanelByTitle",value:function(e){this.currentPageTitle=e,console.warn("setPanelByTitle :: "+e)}}]),t}(g["c"]);lt=u["__decorate"]([Object(g["a"])({components:{VLazyImage:p.a,HeaderComponent:f["a"],FooterComponent:m["a"],AdminPanelsMenuComponent:T,AdminTitle:N,AdminDispatches:G,AdminUsers:J,AdminSwiper:ue,AdminBanners:he,AdminProducts:ke,AdminCategories:Fe,AdminDistributorsAndShops:ct}})],lt);var ut=lt,dt=ut,pt=(n("b2e5"),Object(E["a"])(dt,a,i,!1,null,null,null));t["default"]=pt.exports},e714:function(e,t,n){"use strict";var a=n("05b5"),i=n.n(a);i.a},e797:function(e,t,n){},e7f7:function(e,t,n){},e9e4:function(e,t,n){"use strict";var a=n("d3e7"),i=n.n(a);i.a},f3fe:function(e,t,n){e.exports=n.p+"img/s2-yellow.6730b39f.png"},f640:function(e,t,n){},f6a5:function(e,t,n){"use strict";var a=n("4c20"),i=n.n(a);i.a},ffb4:function(e,t,n){}}]);