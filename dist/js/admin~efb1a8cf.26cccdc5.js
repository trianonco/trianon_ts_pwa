(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["admin~efb1a8cf"],{"05b5":function(e,t,o){},"35e2":function(e,t,o){"use strict";var n=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"admin page orders"},[o("div",{staticClass:"wrapper"},[o("h1",[e._v("ORDENES DE COMPRA")]),o("div",{staticClass:"orders"},[o("vue-good-table",{attrs:{"search-options":{enabled:!0},"select-options":{enabled:!1},columns:e.columns,rows:e.queue},on:{"on-selected-rows-change":e.selectionChanged}},[o("div",{attrs:{slot:"selected-row-actions"},slot:"selected-row-actions"},[o("button",{staticStyle:{display:"block"},on:{click:function(t){return e.downloadInvoices()}}},[e._v(" Descargar InVoices ")])]),o("div",{attrs:{slot:"selected-row-actions"},slot:"selected-row-actions"},[o("button",{staticStyle:{display:"block"},on:{click:function(t){return e.deleteOrder()}}},[e._v(" Borrar ")])])])],1)])])},r=[],a=(o("a481"),o("ac6a"),o("d225")),c=o("b0b4"),i=o("308d"),d=o("6bb5"),u=o("4e2b"),s=o("9ab4"),O=(o("dac4"),o("f617")),l=o("60a3"),R=o("185b"),g=o("59ca"),E=o.n(g),A=function(e){return"\n\n    const api = 'https://us-central1-trianon-co-pwa-dev.cloudfunctions.net/HandleUpdateInBuy?ID=".concat(e,"';\n\n    fetch(api)\n    .then(function(response) {\n      const res = JSON.stringify(response.json());\n      location.reload();\n    })\n    .catch(function(error) {\n      window.alert('ERROR')\n    });\n    \n  \n")},f=function(e){function t(){var e;return Object(a["a"])(this,t),e=Object(i["a"])(this,Object(d["a"])(t).apply(this,arguments)),e.apiDB=new R["a"],e.db={},e.inVoices=[],e.queue=[],e.orders=[],e.ORDER_STATE="IN PROCESS: PAYMENT SUCCESSFULL",e.columns=[{label:"Pago",field:"payment",html:!0},{label:"Fecha Compra",field:"createdAt",type:"date",dateInputFormat:"dd-MM-yyyy",dateOutputFormat:"dd/MM/yyyy"},{label:"Ref",field:"ref"},{label:"Email",field:"email",type:"string"},{label:"Telefóno",field:"phone",type:"string"},{label:"Precio",field:"price",type:"string"},{label:"Producto",field:"product",type:"string"},{label:"Foto",field:"photo",html:!0},{label:"InVoice",field:"invoice",html:!0},{label:"Delete",field:"delete",html:!0}],e.rows=[{ref:"REF_OERFEF_eRF",email:"wallamejorge@hotmail.com",phone:"300531837",price:"0.00",product:"BOTAS NEGRAS",photo:'<img style="width:50px" src="https://firebasestorage.googleapis.com/v0/b/trianon-co-pwa-dev.appspot.com/o/Shop-Products-Photos%2Fhd%2FHR156-01-01.jpg?alt=media&token=c392cfe1-c92e-4bb8-97f1-cf815a641f01">',invoice:'<a href="https://firebasestorage.googleapis.com/v0/b/trianon-co-pwa-dev.appspot.com/o/Shop-InVoices%2F07f3518fcbc0d26abd6ec782d01a827b.pdf?alt=media&token=f0f2ab54-4e49-4d22-9e79-ab18233e4af7" download="w3logo"> DESCARGAR </a>',delete:'<a href="https://firebasestorage.googleapis.com/v0/b/trianon-co-pwa-dev.appspot.com/o/Shop-InVoices%2F07f3518fcbc0d26abd6ec782d01a827b.pdf?alt=media&token=f0f2ab54-4e49-4d22-9e79-ab18233e4af7" download="w3logo"> BORRAR </a>'}],e}return Object(u["a"])(t,e),Object(c["a"])(t,[{key:"beforeMount",value:function(){var e=this,t=E.a.firestore();this.queue=[],t.collection("SHOPPING_HISTORY").get().then(function(t){t.forEach(function(t){var o=t.data(),n=o.meta.createdAt.toDate(),r=n.getDate(),a=n.getMonth()+1,c=n.getFullYear();n=a<10?"".concat(r,"-0").concat(a,"-").concat(c):"".concat(r,"-").concat(a,"-").concat(c);var i=o.products.map(function(e){return e.ref}).reduce(function(e,t){return e+" "+t},""),d=o.products.map(function(e){return e.ref_photo_code}).reduce(function(e,t){return" <br> "+'<img style="width:50px" src="https://firebasestorage.googleapis.com/v0/b/trianon-co-pwa-dev.appspot.com/o/Shop-Products-Photos%2Fhd%2F'.concat(decodeURI(t).replace(" ",""),'-01.jpg?alt=media&token=c392cfe1-c92e-4bb8-97f1-cf815a641f01">')+e+" <br> "},""),u=o.products.map(function(e){return e.description}).reduce(function(e,t){return e+" "+t}),s={id:o.id,ref:i,email:o.shipping.email,phone:o.shipping.phone,price:e.toCurrent(o.meta.total),product:u,createdAt:n,payment:"\n\n                      ".concat("IN PROCESS: WATING FOR PAYMENT"===o.state?'<div class="payment-button" onclick="'+A(o.ID)+'">CONFIRMAR</div>':"","\n                      ").concat("IN PROCESS: WATING FOR PAYMENT"!==o.state?'<div class="payment-label">PAGO CONFIRMADO</div>':"","\n                      \n                "),photo:d,delete:"<a></a>",invoice:'<a href="https://firebasestorage.googleapis.com/v0/b/trianon-co-pwa-dev.appspot.com/o/Shop-InVoices%2F'.concat(o.ID,'.pdf?alt=media&token=f0f2ab54-4e49-4d22-9e79-ab18233e4af7" download="').concat(o.ID,'" target="_blank"> DESCARGAR </a>')};"IN PROCESS: PAYMENT SUCCESSFULL"!==o.state&&"IN PROCESS: IN FACTORY"!==o.state&&"IN PROCESS: WATING FOR PAYMENT"!==o.state||(e.queue.push(s),console.warn({doc_data:o,doc_queue:s})),e.orders.push(o)})})}},{key:"mount",value:function(){}},{key:"selectionChanged",value:function(e){var t=e.selectedRows;console.error(t);var o=t.map(function(e){return e.invoice.replace('<a href="',"").replace('" download="w3logo"> DESCARGAR </a>')});console.warn(""),console.warn(o),this.inVoices=o}},{key:"downloadInvoices",value:function(){this.inVoices}},{key:"download_file",value:function(e,t){var o=document.createElement("a");o.href=e,o.download=t,document.body.appendChild(o),o.click(),document.body.removeChild(o)}},{key:"toCurrent",value:function(e){if("number"!==typeof e)return e;var t=new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:0});return t.format(e)}}]),t}(l["c"]);f=s["__decorate"]([Object(l["a"])({components:{VueGoodTable:O["a"]},name:"AdminOrdersPageComponent"})],f);var S=f,P=S,p=(o("e714"),o("2877")),T=Object(p["a"])(P,n,r,!1,null,null,null);t["a"]=T.exports},"6e44":function(e,t,o){"use strict";var n=o("e3f4"),r=o.n(n);r.a},d967:function(e,t,o){"use strict";var n=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"admin page products"},[n("form",[n("DragAndDropExcelProductsComponent",{attrs:{message:"PRODUCTOS"},on:{onStart:e.onDragAndDropStartProducts,onLoad:e.onDragAndDropLoadProducts}}),n("div",{staticClass:"buttons"},[n("div",{staticClass:"button clear",on:{click:function(t){return e.clear()}}},[e._v("BORRAR")]),n("div",{staticClass:"button save",on:{click:function(t){return e.save()}}},[e._v("GUARDAR")])])],1),e.isLoading?n("div",{staticClass:"loader"},[n("img",{attrs:{src:o("b2fa"),width:"25px"}})]):e._e()])},r=[],a=(o("456d"),o("6762"),o("2fdb"),o("ac6a"),o("8615"),o("20d6"),o("55dd"),o("28a5"),o("96cf"),o("3b8d")),c=o("d225"),i=o("b0b4"),d=o("308d"),u=o("6bb5"),s=o("4e2b"),O=o("9ab4"),l=o("185b"),R=o("acee"),g=o("60a3"),E=o("9a8a"),A=o.n(E),f=function(e){function t(){var e;return Object(c["a"])(this,t),e=Object(d["a"])(this,Object(u["a"])(t).apply(this,arguments)),e.isLoading=!1,e.apiDB=new l["a"],e.db={},e.PRODUCTS=[],e}return Object(s["a"])(t,e),Object(i["a"])(t,[{key:"beforeMount",value:function(){this.apiDB.setDatabaseByName("SHOP-DB"),this.db=this.apiDB.getDatabase()}},{key:"onDragAndDropStartProducts",value:function(){this.isLoading=!0}},{key:"onDragAndDropLoadProducts",value:function(e){var t=this;e.map(function(e){var o={ref:t.getProductRef(e),ref_code:t.getProductRefCode(e),ref_color_code:t.getProductRefColorCode(e),ref_size_code:t.getProductRefSizeCode(e),ref_photo_code:t.getProductRefPhotoCode(e),discount:t.getProductDiscount(e),description:t.getProductDescription(e),gender:t.getProductGender(e),category:t.getProductCategory(e).toUpperCase(),short_name:t.getProductShortName(e),barcode:t.getProductBarCode(e),price_cop:t.getProductPriceCOP(e),price_usd:t.getProductPriceUSD(e),line:t.getProductLine(e),color:t.getProductColor(e),height:t.getProductHeight(e),width:t.getProductWidth(e),depth:t.getProductDepth(e)};t.PRODUCTS.push(o)}),this.isLoading=!1}},{key:"save",value:function(){var e=Object(a["a"])(regeneratorRuntime.mark(function e(){var t,o,n,r,a,c,i,d,u,s,O,l,R,g,E,A,f,S,P,p,T,C,h,D,y;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:console.warn("----------------------------------------------------------------------"),this.isLoading=!0,t=this.PRODUCTS.filter(function(e){return"HOMBRE"===e.gender&&"BILLETERAS"===e.category}),o=this.PRODUCTS.filter(function(e){return"HOMBRE"===e.gender&&"BOLSOS Y MALETINES"===e.category}),n=this.PRODUCTS.filter(function(e){return"HOMBRE"===e.gender&&"CINTURONES"===e.category}),r=this.PRODUCTS.filter(function(e){return"HOMBRE"===e.gender&&"LLAVEROS"===e.category}),a=this.PRODUCTS.filter(function(e){return"HOMBRE"===e.gender&&"PORTA LLAVES"===e.category}),c=this.PRODUCTS.filter(function(e){return"HOMBRE"===e.gender&&"MONEDEROS Y TARJETEROS"===e.category}),i=this.PRODUCTS.filter(function(e){return"HOMBRE"===e.gender&&"PORTA BILLETES"===e.category}),d=this.PRODUCTS.filter(function(e){return"HOMBRE"===e.gender&&"PORTA COSMÉTICOS"===e.category}),u=this.PRODUCTS.filter(function(e){return"HOMBRE"===e.gender&&"PORTA DOCUMENTOS"===e.category}),s=this.PRODUCTS.filter(function(e){return"HOMBRE"===e.gender&&"PORTA PASAPORTES"===e.category}),O=this.PRODUCTS.filter(function(e){return"DAMA"===e.gender&&"BILLETERAS"===e.category}),l=this.PRODUCTS.filter(function(e){return"DAMA"===e.gender&&"BOLSOS Y MALETINES"===e.category}),R=this.PRODUCTS.filter(function(e){return"DAMA"===e.gender&&"CINTURONES"===e.category}),g=this.PRODUCTS.filter(function(e){return"DAMA"===e.gender&&"LLAVEROS"===e.category}),E=this.PRODUCTS.filter(function(e){return"DAMA"===e.gender&&"PORTA LLAVES"===e.category}),A=this.PRODUCTS.filter(function(e){return"DAMA"===e.gender&&"MONEDEROS Y TARJETEROS"===e.category}),f=this.PRODUCTS.filter(function(e){return"DAMA"===e.gender&&"PORTA BILLETES"===e.category}),S=this.PRODUCTS.filter(function(e){return"DAMA"===e.gender&&"PORTA COSMÉTICOS"===e.category}),P=this.PRODUCTS.filter(function(e){return"DAMA"===e.gender&&"PORTA DOCUMENTOS"===e.category}),p=this.PRODUCTS.filter(function(e){return"DAMA"===e.gender&&"PORTA PASAPORTES"===e.category}),T=[{gender:"HOMBRE",category:"BILLETERAS",data:t},{gender:"HOMBRE",category:"BOLSOS_Y_MALETINES",data:o},{gender:"HOMBRE",category:"CINTURONES",data:n},{gender:"HOMBRE",category:"LLAVEROS",data:r},{gender:"HOMBRE",category:"PORTA_LLAVES",data:a},{gender:"HOMBRE",category:"MONEDEROS_Y_TARJETEROS",data:c},{gender:"HOMBRE",category:"PORTA_BILLETES",data:i},{gender:"HOMBRE",category:"PORTA_COSMETICOS",data:d},{gender:"HOMBRE",category:"PORTA_DOCUMENTOS",data:u},{gender:"HOMBRE",category:"PORTA_PASAPORTES",data:s},{gender:"DAMA",category:"BILLETERAS",data:O},{gender:"DAMA",category:"BOLSOS_Y_MALETINES",data:l},{gender:"DAMA",category:"CINTURONES",data:R},{gender:"DAMA",category:"LLAVEROS",data:g},{gender:"DAMA",category:"PORTA_LLAVES",data:E},{gender:"DAMA",category:"MONEDEROS_Y_TARJETEROS",data:A},{gender:"DAMA",category:"PORTA_BILLETES",data:f},{gender:"DAMA",category:"PORTA_COSMETICOS",data:S},{gender:"DAMA",category:"PORTA_DOCUMENTOS",data:P},{gender:"DAMA",category:"PORTA_PASAPORTES",data:p}],console.warn("--                                                         --"),console.warn("-- Beginig Uploading Productos                             --"),console.warn("--                                                         --"),C=0;case 27:if(!(C<T.length)){e.next=39;break}return h="PRODUCTS",D="PRODUCTS_GENDER_".concat(T[C].gender,"_CATEGORY_").concat(T[C].category),y={gender:T[C].gender,category:T[C].category,products:JSON.stringify(T[C].data)},console.warn(y),console.log(""),e.next=35,this.db.setShopProducts(h,D,y);case 35:e.sent;case 36:C++,e.next=27;break;case 39:this.isLoading=!1;case 40:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}()},{key:"clear",value:function(){this.PRODUCTS=[]}},{key:"getProductRef",value:function(e){return e["REFERENCIA"]}},{key:"getProductRefCode",value:function(e){return e["REFERENCIA"].split("-")[0]}},{key:"getProductRefColorCode",value:function(e){return e["REFERENCIA"].split("-")[1].slice(0,2)}},{key:"getProductRefSizeCode",value:function(e){return e["REFERENCIA"].split("-")[1].slice(2,4)}},{key:"getProductRefPhotoCode",value:function(e){return this.getProductRefCode(e)+"-"+this.getProductRefColorCode(e)}},{key:"getProductDiscount",value:function(e){return e["DESCUENTO"]}},{key:"getProductDescription",value:function(e){return e["NOMBRE LARGO"]}},{key:"getProductGender",value:function(e){return"D"===this.getProductRefCode(e).slice(0,1)?"DAMA":"HOMBRE"}},{key:"getProductCategory",value:function(e){var t=e["NOMBRE LARGO"].toUpperCase(),o=["BILLETERA","CARTERA"],n=["BOLSO","ORGANIZADOR VIAJE","MANOS LIBRES","BOLSO CRUZADO","MORRAL","MALETA","PAPELERA","MALETIN"],r=["CINTURONES"],a=["LLAVERO","LLAVEROS"],c=["MONEDERO","TARJETERO","MONEDAS"],i=["PORTA BILLETES","BILLETES","PORTA BILLETE"],d=["PORTA LAVE","POTA LLAVES"],u=["PORTA COSMÉTICOS","COSMETICOS","PORTA LAPICES"],s=["PORTA DOCUMENTOS","DOCUMENTOS","PORTA DOCUMENTO"],O=["PASAPORTES","PORTA PASAPORTE","PORTA AFEITES","AFEITADORES","AFEITE"],l=A()(o),R=A()(n),g=A()(r),E=A()(a),f=A()(c),S=A()(i),P=A()(d),p=A()(u),T=A()(s),C=A()(O),h=l.get(t),D=R.get(t),y=g.get(t),b=E.get(t),L=f.get(t),M=S.get(t),v=P.get(t),m=p.get(t),I=T.get(t),N=C.get(t),_=[h,D,y,b,L,M,v,m,I,N],B=_.map(function(e){if(e){var t=e.sort(function(e,t){return t[0]-e[0]}),o=t[0];return o}return null}),U=B.map(function(e){return e||[-1,"NO MATCH"]}),w=U.sort(function(e,t){return t[0]-e[0]}),k=w[0],F=k[1],H={BILLETERAS:o,MORRALES:n,CINTURONES:r,LLAVEROS:a,MONEDEROS_Y_TARJETEROS:c,PORTA_LLAVES:d,PORTA_BILLETES:i,PORTA_COSMETICOS:u,PORTA_DOCUMENTOS:s,PORTA_PASAPORTES:O},V=Object.values(H).findIndex(function(e){return e.includes(F)}),j=Object.keys(H)[V],G={BILLETERAS:"Billeteras",MORRALES:"Bolsos y Maletines",CINTURONES:"Cinturones",LLAVEROS:"Llaveros",MONEDEROS_Y_TARJETEROS:"Monederos y Tarjeteros",PORTA_LLAVES:"Porta Llaves",PORTA_BILLETES:"Porta Billetes",PORTA_COSMETICOS:"Porta Cosméticos",PORTA_DOCUMENTOS:"Porta Documentos",PORTA_PASAPORTES:"Porta Pasaportes"};return G[j]}},{key:"getProductShortName",value:function(e){return e["NOMBRE CORTO"]}},{key:"getProductBarCode",value:function(e){return e["CODIGO BARRAS"]}},{key:"getProductPriceCOP",value:function(e){return parseFloat(e["PRECIO COP"])}},{key:"getProductPriceUSD",value:function(e){return parseFloat(e["PRECIO USD"])}},{key:"getProductLine",value:function(e){return e["LINEA"]}},{key:"getProductColor",value:function(e){return e["COLOR"]}},{key:"getProductHeight",value:function(e){return e["ALTO"]}},{key:"getProductWidth",value:function(e){return e["ANCHO"]}},{key:"getProductDepth",value:function(e){return e["PROFUNDO"]}}]),t}(g["c"]);f=O["__decorate"]([Object(g["a"])({components:{DragAndDropExcelProductsComponent:R["a"]},name:"AdminTitlePageComponent"})],f);var S=f,P=S,p=(o("6e44"),o("2877")),T=Object(p["a"])(P,n,r,!1,null,"c60389fa",null);t["a"]=T.exports},e3f4:function(e,t,o){},e714:function(e,t,o){"use strict";var n=o("05b5"),r=o.n(n);r.a}}]);