(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["admin~ea1f58e8"],{"0757":function(t,e,a){"use strict";var n=a("ffb4"),i=a.n(n);i.a},"086d":function(t,e,a){t.exports=a.p+"img/s1-green.4d47514e.png"},"0cc7":function(t,e,a){},2067:function(t,e,a){"use strict";var n=a("42e6"),i=a.n(n);i.a},"413d":function(t,e,a){"use strict";var n=a("f640"),i=a.n(n);i.a},"42e6":function(t,e,a){},"4c34":function(t,e,a){t.exports=a.p+"img/s2-green.a89564ee.png"},"4fd9":function(t,e,a){"use strict";var n=a("0cc7"),i=a.n(n);i.a},"5ec4":function(t,e,a){},6190:function(t,e,a){},"8cd1":function(t,e,a){"use strict";var n=a("9759"),i=a.n(n);i.a},9228:function(t,e,a){t.exports=a.p+"img/s1-yellow.316bd3ee.png"},9759:function(t,e,a){},a238:function(t,e,a){"use strict";var n=a("6190"),i=a.n(n);i.a},acee:function(t,e,a){"use strict";var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"drag-and-drop-excel"},[a("div",{attrs:{id:"drop-area"}},[a("form",{staticClass:"my-form"},[a("input",{attrs:{type:"file",id:"fileElem3",accept:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"},on:{change:t.handleFiles}}),a("label",{staticClass:"button",staticStyle:{"text-align":"center"},attrs:{for:"fileElem3"}},[t._v(t._s(t.message?t.message:"ARRASTRA TU ARCHIVO EXCEL ACA "))])])])])},i=[],s=(a("34ef"),a("a481"),a("456d"),a("ac6a"),a("8615"),a("7f7f"),a("1146")),r=a.n(s),o={name:"DragAndDropExcelComponent",props:["message"],data:function(){return{}},methods:{handleFiles:function(t){this.$emit("onStart");var e=t.target.files[0],a=new FileReader;a.readAsArrayBuffer(e);e.name;var n=this;a.onload=function(t){var e=t.target.result,a=n.fixdata(e),i=r.a.read(btoa(a),{type:"base64"}),s=i.Sheets[i.SheetNames[0]],o=r.a.utils.sheet_to_json(s);o.map(function(t){Object.values(t);var e=Object.keys(t);return e.map(function(e){var a=(t[e]+" ").toUpperCase().replace(/ +(?= )/g,"");t[e]=a}),t}),n.$emit("onLoad",o)}},fixdata:function(t){for(var e="",a=0,n=10240;a<t.byteLength/n;++a)e+=String.fromCharCode.apply(null,new Uint8Array(t.slice(a*n,a*n+n)));return e+=String.fromCharCode.apply(null,new Uint8Array(t.slice(a*n))),e}}},c=o,l=(a("0757"),a("2877")),u=Object(l["a"])(c,n,i,!1,null,null,null);e["a"]=u.exports},b2e5:function(t,e,a){"use strict";var n=a("e797"),i=a.n(n);i.a},b2fa:function(t,e,a){t.exports=a.p+"img/ajax-loader.0a8f7c22.gif"},b654:function(t,e,a){t.exports=a.p+"img/s0-yellow.181530c4.png"},c33b:function(t,e,a){"use strict";var n=a("5ec4"),i=a.n(n);i.a},db39:function(t,e,a){t.exports=a.p+"img/s0-green.eaae9ccf.png"},dc2e:function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"view admin"},[n("div",{staticClass:"wrapper"},[n("HeaderComponent"),n("div",{staticClass:"panels"},[n("div",{staticClass:"panels-menu"},[n("AdminPanelsMenuComponent",{attrs:{pages:t.pages},on:{btnChange:t.setPanelByTitle}})],1),n("div",{staticClass:"panels-content"},[t.currentPageTitle?t._e():n("div",{staticClass:"panel no-module",staticStyle:{padding:"2em"}},[n("h1",[t._v("Trianon Panel de Admin*")]),n("img",{attrs:{src:a("3002")}}),n("h5",[t._v("Selecciona un modulo del menu")])]),t._l(t.pages,function(e,a){return n("div",{key:a,staticClass:"panel"},[t.isPanelActiveByTitle(e.title)?n("div",[n("div",{staticClass:"panel-content",staticStyle:{padding:"2em 1em"}},[n(e.component,{tag:"component"})],1)]):t._e()])})],2)])],1)])},i=[],s=a("d225"),r=a("b0b4"),o=a("308d"),c=a("6bb5"),l=a("4e2b"),u=a("9ab4"),d=a("8dc2"),p=a.n(d),m=a("60a3"),g=a("4ef3"),f=a("9dc0"),h=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"panels-menu-wrapper"},[a("Slide",t._l(t.pages,function(e,n){return a("a",{key:n,on:{click:function(a){return t.adminOpenPanelByTitle(e.title)}}},[a("span",{staticClass:"panels-menu-button",class:t.isActive(e.title)},[t._v(t._s(e.titulo))])])}),0)],1)},v=[],A=(a("6762"),a("2fdb"),a("db0f")),S=function(t){function e(){var t;return Object(s["a"])(this,e),t=Object(o["a"])(this,Object(c["a"])(e).apply(this,arguments)),t.email="",t.currentPanelTitle="",t.secureMenu=[{title:"Title",users:["jl.mayorga236@gmail.com","luiska93@hotmail.com"]},{title:"Dispatches",users:["jl.mayorga236@gmail.com","luiska93@hotmail.com","despachos.web.trianon@gmail.com"]},{title:"Orders",users:["jl.mayorga236@gmail.com","luiska93@hotmail.com","sistemas.web.trianon@gmail.com"]},{title:"Users",users:["jl.mayorga236@gmail.com"]},{title:"Swiper",users:["jl.mayorga236@gmail.com","luiska93@hotmail.com"]},{title:"Banners",users:["jl.mayorga236@gmail.com"]},{title:"Products",users:["jl.mayorga236@gmail.com","luiska93@hotmail.com","sistemas.web.trianon@gmail.com"]},{title:"Categories",users:["jl.mayorga236@gmail.com","luiska93@hotmail.com"]},{title:"DistributorsAndSHops",users:["jl.mayorga236@gmail.com","luiska93@hotmail.com","sistemas.web.trianon@gmail.com","distribuidores.web.trianon@gmail.com"]}],t}return Object(l["a"])(e,t),Object(r["a"])(e,[{key:"mounted",value:function(){var t=JSON.parse(localStorage.getItem("user")||"");this.email=t.email,console.warn(""),console.warn("this.email"),console.warn(this.email),console.warn("")}},{key:"isUserAllowedByPageTitle",value:function(t){var e=this,a=this.secureMenu.filter(function(a){return a.title===t&&a.users.includes(e.email)});return a.length>0}},{key:"adminOpenPanelByTitle",value:function(t){this.currentPanelTitle===t?(this.currentPanelTitle="",this.$emit("btnChange","")):(this.currentPanelTitle=t,this.$emit("btnChange",t))}},{key:"isActive",value:function(t){return this.currentPanelTitle===t?"active":"no-active"}}]),e}(m["c"]);u["__decorate"]([Object(m["b"])({default:[]})],S.prototype,"pages",void 0),S=u["__decorate"]([Object(m["a"])({components:{Slide:A["Slide"]}})],S);var D=S,C=D,b=(a("c33b"),a("2877")),I=Object(b["a"])(C,h,v,!1,null,null,null),O=I.exports,_=a("ff16"),E=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"admin page title"},[n("h1",[t._v("DESPACHOS")]),n("form",t._l(t.queueSorted,function(e,i){return n("div",{key:i,staticStyle:{display:"inline-block",width:"fit-content","vertical-align":"top"}},[e.ID&&t.isOnDate(e)?n("div",{staticClass:"queue-card"},[n("div",{staticClass:"queue-card-header",staticStyle:{"text-align":"left"}},[n("span",{staticStyle:{"font-weight":"900"}},[t._v(t._s(e.products[0].ref)+"  "+t._s(t.isOnDate(e))+"/")]),n("br"),n("span",{staticStyle:{"font-weight":"100","font-size":"0.7em"}},[t._v(t._s(e.ID))])]),n("center",[n("v-lazy-image",{attrs:{src:t.getPhotoURL(e.products[0].ref)[1],"src-placeholder":t.getPhotoURL(e.products[0].ref)[0]}})],1),n("div",{staticClass:"queue-card-preview"},[n("div",{staticClass:"queue-card-preview-col"},[n("h1",{staticClass:"title"},[n("strong",[t._v("Fecha de Compra")]),t._v("\n              : "+t._s(t.getDate(e.meta.createdAt))+"\n            ")]),n("h1",{staticClass:"title"},[n("strong",[t._v("Producto")]),t._v("\n              : "+t._s(e.products[0].ref)+"\n            ")]),n("h1",{staticClass:"title"},[n("strong",[t._v("Email")]),t._v("\n              : "+t._s(e.shipping.email)+"\n            ")]),n("h1",{staticClass:"title"},[n("strong",[t._v("Teléfono")]),t._v("\n              : "+t._s(e.shipping.phone)+"\n            ")]),n("h1",{staticClass:"title"},[n("strong",[t._v("Dirección")]),t._v("\n              : "+t._s(e.shipping.address)+" "+t._s(e.shipping.info)+"\n            ")]),n("h1",{staticClass:"title"},[n("strong",[t._v("Barrio")]),t._v("\n              : "+t._s(e.shipping.neighbourhood)+"\n            ")]),n("h1",{staticClass:"title"},[n("strong",[t._v("Municipio")]),t._v("\n              : "+t._s(e.shipping.city)+" , "+t._s(e.shipping.department)+"\n            ")])])]),n("div",{staticClass:"queue-card-comment"},[t._v(t._s(e.comment))]),n("a",{attrs:{href:t.getInvoiceURL(e.ID),target:"_blank"}},[n("div",{staticClass:"queue-card-invoice-button"},[t._v("VER INFORMACIÓN DE PEDIDO")])]),n("div",{staticClass:"queue-card-shipping-info"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.billing.number,expression:"item.billing.number"}],attrs:{type:"text",placeholder:"Numero de Factura"},domProps:{value:e.billing.number},on:{input:function(a){a.target.composing||t.$set(e.billing,"number",a.target.value)}}}),n("select",{directives:[{name:"model",rawName:"v-model",value:e.shipping.shipping_company,expression:"item.shipping.shipping_company"}],on:{change:function(a){var n=Array.prototype.filter.call(a.target.options,function(t){return t.selected}).map(function(t){var e="_value"in t?t._value:t.value;return e});t.$set(e.shipping,"shipping_company",a.target.multiple?n:n[0])}}},t._l(t.ShippingCompanies,function(e,a){return n("option",{key:a,domProps:{value:e.name}},[t._v(t._s(e.name))])}),0),n("input",{directives:[{name:"model",rawName:"v-model",value:e.shipping.tracker_code,expression:"item.shipping.tracker_code"}],attrs:{type:"text",placeholder:"Codigo de Guia"},domProps:{value:e.shipping.tracker_code},on:{input:function(a){a.target.composing||t.$set(e.shipping,"tracker_code",a.target.value)}}}),n("input",{directives:[{name:"model",rawName:"v-model",value:e.shipping.delivery_date,expression:"item.shipping.delivery_date"}],attrs:{type:"date",placeholder:"Fecha de entrega"},domProps:{value:e.shipping.delivery_date},on:{input:function(a){a.target.composing||t.$set(e.shipping,"delivery_date",a.target.value)}}})]),n("div",{staticClass:"queue-card-row states"},[n("div",{staticClass:"state",on:{click:function(a){return t.setState(e,"IN PROCESS: IN FACTORY")}}},[n("div",{staticClass:"state-inStock-icon"},[t.isStateInStock(e)?n("img",{attrs:{src:a("db39")}}):t._e(),t.isStateInStock(e)?t._e():n("img",{attrs:{src:a("b654")}})]),n("div",{staticClass:"state-label"},[t._v("EN FABRICA")])]),n("div",{staticClass:"state",on:{click:function(a){return t.setState(e,"IN PROCESS: IN SHIPPING")}}},[n("div",{staticClass:"state-inDispatches"},[t.isStateInShipping(e)?n("img",{attrs:{src:a("086d")}}):t._e(),t.isStateInShipping(e)?t._e():n("img",{attrs:{src:a("9228")}})]),n("div",{staticClass:"state-label"},[t._v("ENVIADO")])]),n("div",{staticClass:"state",on:{click:function(a){return t.setState(e,"IN PROCESS: IN DELIVERED")}}},[n("div",{staticClass:"state-inShipping"},[t.isStateInDelivered(e)?n("img",{attrs:{src:a("4c34")}}):t._e(),t.isStateInDelivered(e)?t._e():n("img",{attrs:{src:a("f3fe")}})]),n("div",{staticClass:"state-label"},[t._v("RECIBIDO")])])]),n("div",{staticClass:"queue-card-save-button",on:{click:function(a){return t.save(e)}}},[t._v("GUARDAR")]),n("div",{staticClass:"queue-card-row"})],1):t._e()])}),0),t.isLoading?n("div",{staticClass:"loader"},[n("img",{attrs:{src:a("b2fa"),width:"25px"}})]):t._e()])},T=[],R=(a("55dd"),a("7f7f"),a("a481"),a("ac6a"),a("185b")),y=a("59ca"),N=a.n(y),P=function(t){function e(){var t;return Object(s["a"])(this,e),t=Object(o["a"])(this,Object(c["a"])(e).apply(this,arguments)),t.DATA={title:""},t.isLoading=!1,t.apiDB=new R["a"],t.db={},t.queue=[],t.ShippingCompanies=[{name:"TCC",url:"https://www.tcc.com.co/logistica/servicios-on-line/rastrear-envios/"},{name:"INTERRAPIDISIMO",url:"https://www.interrapidisimo.com/sigue-tu-envio/"},{name:"SERVIENTREGA",url:" SERVIENTRGA.COM"},{name:"DHL",url:"http://www.dhl.com.co/es/express/rastreo.html"},{name:"FEDEX",url:"https://www.fedex.com/es-co/tracking.html"},{name:"DEPRISA",url:"https://www.deprisa.com/"},{name:"COORDINADORA",url:"https://www.coordinadora.com/portafolio-de-servicios/servicios-en-linea/rastrear-guias/"},{name:"VELOTAX",url:"https://www.velotax.com.co/mensajeria"},{name:"4/72",url:"http://www.4-72.com.co/"}],t}return Object(l["a"])(e,t),Object(r["a"])(e,[{key:"beforeMount",value:function(){var t=this,e=N.a.firestore();this.queue=[],e.collection("SHOPPING_HISTORY").get().then(function(e){e.forEach(function(e){var a=e.data();a.shipping.delivery_date=t.formatDate(a.shipping.delivery_date),t.queue.push(a)})})}},{key:"isOnDate",value:function(t){var e=!0;try{var a=864e5,n=t.meta.updatedAt.toDate(),i=new Date,s=Math.round(Math.abs((i.getTime()-n.getTime())/a));"IN PROCESS: IN DELIVERED"===t.state&&(e=!(s>15)),"IN PROCESS: WATING FOR PAYMENT"===t.state&&(e=!1)}catch(r){console.error(r)}return e}},{key:"getDate",value:function(t){var e=new Date(t.toDate()),a=e,n=a.getUTCMonth()+1,i=a.getUTCDate(),s=a.getUTCFullYear(),r=i+"/"+n+"/"+s;return r}},{key:"formatDate",value:function(t){var e,a,n,i;try{e=t.toDate(),a=""+(e.getMonth()+1),n=""+e.getDate(),i=e.getFullYear()}catch(s){e=new Date,a=""+(e.getMonth()+1),n=""+e.getDate(),i=e.getFullYear()}return a.length<2&&(a="0"+a),n.length<2&&(n="0"+n),[i,a,n].join("-")}},{key:"getInvoiceURL",value:function(t){return"https://firebasestorage.googleapis.com/v0/b/trianon-co-pwa-dev.appspot.com/o/Shop-InVoices%2F".concat(t,".pdf?alt=media&token=f0f2ab54-4e49-4d22-9e79-ab18233e4af7")}},{key:"getPhotoURL",value:function(t){var e=t.replace(" ",""),a="https://firebasestorage.googleapis.com/v0/b/trianon-co-pwa-dev.appspot.com/o/Shop-Products-Photos%2Fhd%2F".concat(e,"-01.jpg?alt=media&token=c392cfe1-c92e-4bb8-97f1-cf815a641f01"),n="https://firebasestorage.googleapis.com/v0/b/trianon-co-pwa-dev.appspot.com/o/Shop-Products-Photos%2Fthumb%2F".concat(e,"-01.jpg?alt=media&token=c392cfe1-c92e-4bb8-97f1-cf815a641f01");return[n,a]}},{key:"save",value:function(t){var e=this;if(t.state.includes("IN PROCESS: IN FACTORY")){this.isLoading=!0;var a=JSON.parse(""+JSON.stringify(t)),n="https://us-central1-trianon-co-pwa-dev.cloudfunctions.net/HandleUpdateInStock?ID=".concat(a.ID);this.$http.get(n).then(function(t){e.isLoading=!1,console.warn(t)}).catch(function(t){console.error(t)})}if(t.state.includes("IN PROCESS: IN SHIPPING")){var i=JSON.parse(""+JSON.stringify(t)),s=i.shipping.shipping_company,r=this.ShippingCompanies.filter(function(t){return t.name===s})[0].url;i.shipping.tracker_link=r;var o=new Date(i.shipping.delivery_date.replace("-","/")).getTime();i.shipping.delivery_date=o,this.isLoading=!0;var c="https://us-central1-trianon-co-pwa-dev.cloudfunctions.net/HandleUpdateInShipping?ID=".concat(i.ID,"&BILLING_NUMBER=").concat(i.billing.number,"&SHIPPING_COMPANY=").concat(i.shipping.shipping_company,"&SHIPPING_DELIVERY_DATE=").concat(i.shipping.delivery_date,"&SHIPPING_TRACKER_CODE=").concat(i.shipping.tracker_code,"&SHIPPING_TRACKER_LINK=").concat(encodeURIComponent(i.shipping.tracker_link),"&");this.$http.get(c).then(function(t){e.isLoading=!1,console.warn(t)}).catch(function(t){console.error(t)})}if(t.state.includes("IN PROCESS: IN DELIVERED")){this.isLoading=!0;var l=JSON.parse(""+JSON.stringify(t)),u="https://us-central1-trianon-co-pwa-dev.cloudfunctions.net/HandleUpdateInDelivered?ID=".concat(l.ID);this.$http.get(u).then(function(t){e.isLoading=!1,console.warn(t)}).catch(function(t){console.error(t)})}}},{key:"isStateInStock",value:function(t){return t.state.includes("IN PROCESS: IN FACTORY")||t.state.includes("IN PROCESS: IN SHIPPING")||t.state.includes("IN PROCESS: IN DELIVERED")}},{key:"isStateInShipping",value:function(t){return t.state.includes("IN PROCESS: IN SHIPPING")||t.state.includes("IN PROCESS: IN DELIVERED")}},{key:"isStateInDelivered",value:function(t){return t.state.includes("IN PROCESS: IN DELIVERED")}},{key:"setState",value:function(t,e){t.state.includes(e)?(t.state.includes("IN PROCESS: IN FACTORY")&&(t.state="IN PROCESS: PAYMENT SUCCESSFULL"),t.state.includes("IN PROCESS: IN SHIPPING")&&(t.state="IN PROCESS: IN FACTORY"),t.state.includes("IN PROCESS: IN DELIVERED")&&(t.state="IN PROCESS: IN SHIPPING")):t.state=e,console.log(t.state)}},{key:"clear",value:function(){this.DATA.title=""}},{key:"queueSorted",get:function(){var t=this.queue.sort(function(t,e){return e.meta.createdAt.seconds-t.meta.createdAt.seconds});return t}}]),e}(m["c"]);P=u["__decorate"]([Object(m["a"])({components:{VLazyImage:p.a},name:"AdminDispatchesPageComponent"})],P);var w=P,k=w,L=(a("2067"),Object(b["a"])(k,E,T,!1,null,"38226e79",null)),j=L.exports,B=a("b8b8"),U=a("35e2"),x=a("e901"),H=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"admin page"})},G=[],M=function(t){function e(){return Object(s["a"])(this,e),Object(o["a"])(this,Object(c["a"])(e).apply(this,arguments))}return Object(l["a"])(e,t),e}(m["c"]);M=u["__decorate"]([Object(m["a"])({components:{},name:"AdminTitlePageComponent"})],M);var F=M,$=F,V=Object(b["a"])($,H,G,!1,null,null,null),q=V.exports,Z=a("d967"),K=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"admin page title"},[n("h1",[t._v("CATEGORIAS DE LA TIENDA")]),n("form",[t._l(t.DATA.CATEGORIES,function(e,a){return n("div",{key:a,staticClass:"input"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.title,expression:"category.title"}],attrs:{type:"text",placeholder:"Descripción"},domProps:{value:e.title},on:{input:function(a){a.target.composing||t.$set(e,"title",a.target.value)}}}),n("div",{staticClass:"button male",class:t.btnActive(e,"HOMBRE"),on:{click:function(a){return t.setBtnActive(e,"HOMBRE")}}},[t._v("HOMBRE")]),n("div",{staticClass:"button female",class:t.btnActive(e,"DAMA"),on:{click:function(a){return t.setBtnActive(e,"DAMA")}}},[t._v("DAMA")]),n("div",{staticClass:"button remove",on:{click:function(a){return t.remove(e.id)}}},[n("i",{staticClass:"fas fa-trash-alt"})])])}),n("div",{staticClass:"input"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.DATA.CATEGORIES_BLANK.title,expression:"DATA.CATEGORIES_BLANK.title"}],attrs:{type:"text",placeholder:"Descripción"},domProps:{value:t.DATA.CATEGORIES_BLANK.title},on:{input:function(e){e.target.composing||t.$set(t.DATA.CATEGORIES_BLANK,"title",e.target.value)}}}),n("div",{staticClass:"button male",class:t.btnActive(t.DATA.CATEGORIES_BLANK,"HOMBRE"),on:{click:function(e){return t.setBtnActive(t.DATA.CATEGORIES_BLANK,"HOMBRE")}}},[t._v("HOMBRE")]),n("div",{staticClass:"button female",class:t.btnActive(t.DATA.CATEGORIES_BLANK,"DAMA"),on:{click:function(e){return t.setBtnActive(t.DATA.CATEGORIES_BLANK,"DAMA")}}},[t._v("DAMA")]),n("div",{staticClass:"button add",on:{click:function(e){return t.add()}}},[n("i",{staticClass:"fas fa-plus-square"})])]),n("div",{staticClass:"buttons"},[n("div",{staticClass:"button clear",on:{click:function(e){return t.clear()}}},[t._v("BORRAR")]),n("div",{staticClass:"button save",on:{click:function(e){return t.save()}}},[t._v("GUARDAR")])])],2),t.isLoading?n("div",{staticClass:"loader"},[n("img",{attrs:{src:a("b2fa"),width:"25px"}})]):t._e()])},Y=[],J=function(t){function e(){var t;return Object(s["a"])(this,e),t=Object(o["a"])(this,Object(c["a"])(e).apply(this,arguments)),t.DATA={CATEGORIES:[{id:0,title:"",gender:[]}],CATEGORIES_BLANK:{id:0,title:"",gender:[]}},t.isLoading=!1,t.apiDB=new R["a"],t.db={},t}return Object(l["a"])(e,t),Object(r["a"])(e,[{key:"btnActive",value:function(t,e){return t.gender.includes(e)?"active":"no-active"}},{key:"setBtnActive",value:function(t,e){t.gender.includes(e)?t.gender=t.gender.filter(function(t){return t!==e}):t.gender.push(e)}},{key:"beforeMount",value:function(){var t=this;this.apiDB.setDatabaseByName("SETTINGS-DB"),this.db=this.apiDB.getDatabase(),this.isLoading=!0,this.db.getShopCategories().then(function(e){t.DATA.CATEGORIES=e,t.isLoading=!1}).catch(function(t){return console.error(t)})}},{key:"remove",value:function(t){confirm("Seguro deseas borrar esta categoria ?")&&(this.DATA.CATEGORIES=this.DATA.CATEGORIES.filter(function(e){return e.id!==t}))}},{key:"add",value:function(){this.DATA.CATEGORIES_BLANK.id=this.DATA.CATEGORIES.length,this.DATA.CATEGORIES.push(JSON.parse(JSON.stringify(this.DATA.CATEGORIES_BLANK)+"")),this.DATA.CATEGORIES_BLANK.title="",this.DATA.CATEGORIES_BLANK.gender=[]}},{key:"clear",value:function(){var t=this;this.isLoading=!0,this.db.getShopCategories().then(function(e){t.DATA.CATEGORIES=e,t.isLoading=!1}).catch(function(t){return console.error(t)})}},{key:"save",value:function(){var t=this;this.isLoading=!0,this.db.setShopCategories(this.DATA.CATEGORIES).then(function(e){t.DATA.CATEGORIES=e,t.isLoading=!1}).catch(function(t){return console.error(t)})}}]),e}(m["c"]);J=u["__decorate"]([Object(m["a"])({components:{},name:"AdminTitlePageComponent"})],J);var z=J,X=z,W=(a("4fd9"),Object(b["a"])(X,K,Y,!1,null,"697802f6",null)),Q=W.exports,tt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"admin page title"},[n("h1",[t._v("DISTRIBUIDORES AUTORIZADOS Y TIENDAS")]),n("form",[n("div",{staticClass:"excel-input"},[n("DragAndDropExcelDistributorsComponent",{attrs:{message:"DISTRIBUIDORES AUTORIZADOS"},on:{onStart:t.onDragAndDropStartDistributors,onLoad:t.onDragAndDropLoadDistributors}}),n("div",t._l(t.resumeList(t.DATA.AUTHORIZED_DISTRIBUTORS),function(e,a){return n("h5",{key:a,staticStyle:{"text-align":"center",padding:"0.5em"}},[t._v(t._s(e))])}),0)],1),n("div",{staticClass:"excel-input"},[n("DragAndDropExcelShopsComponent",{attrs:{message:"TIENDAS AUTORIZADAS"},on:{onStart:t.onDragAndDropStartShops,onLoad:t.onDragAndDropLoadShops}}),n("div",t._l(t.resumeList(t.DATA.AUTHORIZED_SHOPS),function(e,a){return n("h5",{key:a,staticStyle:{"text-align":"center",padding:"0.5em"}},[t._v(t._s(e))])}),0)],1),n("br"),n("div",{staticClass:"buttons"},[n("div",{staticClass:"button clear",on:{click:function(e){return t.clear()}}},[t._v("BORRAR")]),n("div",{staticClass:"button save",on:{click:function(e){return t.save()}}},[t._v("GUARDAR")])])]),t.isLoading?n("div",{staticClass:"loader"},[n("img",{attrs:{src:a("b2fa"),width:"25px"}})]):t._e()])},et=[],at=a("75fc"),nt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"drag-and-drop-excel"},[a("div",{attrs:{id:"drop-area"}},[a("form",{staticClass:"my-form"},[a("input",{attrs:{type:"file",id:"fileElem1",accept:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"},on:{change:t.handleFiles}}),a("label",{staticClass:"button",staticStyle:{"text-align":"center"},attrs:{for:"fileElem1"}},[t._v(t._s(t.message?t.message:"ARRASTRA TU ARCHIVO EXCEL ACA "))])])])])},it=[],st=(a("34ef"),a("456d"),a("8615"),a("1146")),rt=a.n(st),ot={name:"DragAndDropExcelComponent",props:["message"],data:function(){return{}},methods:{handleFiles:function(t){this.$emit("onStart");var e=t.target.files[0],a=new FileReader;a.readAsArrayBuffer(e);e.name;var n=this;a.onload=function(t){var e=t.target.result,a=n.fixdata(e),i=rt.a.read(btoa(a),{type:"base64"}),s=i.Sheets[i.SheetNames[0]],r=rt.a.utils.sheet_to_json(s);r.map(function(t){Object.values(t);var e=Object.keys(t);return e.map(function(e){var a=(t[e]+" ").toUpperCase().replace(/ +(?= )/g,"");t[e]=a}),t}),n.$emit("onLoad",r)}},fixdata:function(t){for(var e="",a=0,n=10240;a<t.byteLength/n;++a)e+=String.fromCharCode.apply(null,new Uint8Array(t.slice(a*n,a*n+n)));return e+=String.fromCharCode.apply(null,new Uint8Array(t.slice(a*n))),e}}},ct=ot,lt=(a("413d"),Object(b["a"])(ct,nt,it,!1,null,null,null)),ut=lt.exports,dt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"drag-and-drop-excel"},[a("div",{attrs:{id:"drop-area"}},[a("form",{staticClass:"my-form"},[a("input",{attrs:{type:"file",id:"fileElem2",accept:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"},on:{change:t.handleFiles}}),a("label",{staticClass:"button",staticStyle:{"text-align":"center"},attrs:{for:"fileElem2"}},[t._v(t._s(t.message?t.message:"ARRASTRA TU ARCHIVO EXCEL ACA "))])])])])},pt=[],mt={name:"DragAndDropExcelComponent",props:["message"],data:function(){return{}},methods:{handleFiles:function(t){this.$emit("onStart");var e=t.target.files[0],a=new FileReader;a.readAsArrayBuffer(e);e.name;var n=this;a.onload=function(t){var e=t.target.result,a=n.fixdata(e),i=rt.a.read(btoa(a),{type:"base64"}),s=i.Sheets[i.SheetNames[0]],r=rt.a.utils.sheet_to_json(s);r.map(function(t){Object.values(t);var e=Object.keys(t);return e.map(function(e){var a=(t[e]+" ").toUpperCase().replace(/ +(?= )/g,"");t[e]=a}),t}),n.$emit("onLoad",r)}},fixdata:function(t){for(var e="",a=0,n=10240;a<t.byteLength/n;++a)e+=String.fromCharCode.apply(null,new Uint8Array(t.slice(a*n,a*n+n)));return e+=String.fromCharCode.apply(null,new Uint8Array(t.slice(a*n))),e}}},gt=mt,ft=(a("a238"),Object(b["a"])(gt,dt,pt,!1,null,null,null)),ht=ft.exports,vt=function(t){function e(){var t;return Object(s["a"])(this,e),t=Object(o["a"])(this,Object(c["a"])(e).apply(this,arguments)),t.DATA={AUTHORIZED_DISTRIBUTORS:[],AUTHORIZED_SHOPS:[]},t.isLoading=!1,t.apiDB=new R["a"],t.db={},t}return Object(l["a"])(e,t),Object(r["a"])(e,[{key:"beforeMount",value:function(){this.apiDB.setDatabaseByName("SETTINGS-DB"),this.db=this.apiDB.getDatabase()}},{key:"resumeList",value:function(t){var e=t.map(function(t){return t["Correo Electrónico"]||t["Lugar"]}).slice(0,3),a=["."],n=t.map(function(t){return t["Correo Electrónico"]||t["Lugar"]}).slice(t.length-3,t.length);return[].concat(Object(at["a"])(e),a,Object(at["a"])(n))}},{key:"onDragAndDropLoadDistributors",value:function(t){this.isLoading=!1,this.DATA.AUTHORIZED_DISTRIBUTORS=t}},{key:"onDragAndDropStartDistributors",value:function(){this.isLoading=!0,this.DATA.AUTHORIZED_DISTRIBUTORS=[]}},{key:"onDragAndDropLoadShops",value:function(t){this.isLoading=!1,this.DATA.AUTHORIZED_SHOPS=t}},{key:"onDragAndDropStartShops",value:function(){this.isLoading=!0,this.DATA.AUTHORIZED_SHOPS=[]}},{key:"clear",value:function(){this.DATA.AUTHORIZED_SHOPS=[],this.DATA.AUTHORIZED_DISTRIBUTORS=[]}},{key:"save",value:function(){var t=this;if(this.isLoading=!0,this.DATA.AUTHORIZED_DISTRIBUTORS.length>0){var e=this.DATA.AUTHORIZED_DISTRIBUTORS.map(function(t){return{code:(t["Codigo"]||"").replace(/ +(?= )/g,""),nit:(t["Nro nit"]||"").replace(/ +(?= )/g,""),address:(t["Dirección"]||"").replace(/ +(?= )/g,""),phone:(t["Teléfono"]||"").replace(/ +(?= )/g,""),personal_name:{firstname:(t["Nombre 1"]||"").replace(/ +(?= )/g,""),secondname:(t["Nombre 2"]||"").replace(/ +(?= )/g,""),lastname:(t["Apellido 1"]||"").replace(/ +(?= )/g,""),lastname2:(t["Apellido 2"]||"").replace(/ +(?= )/g,""),fullname:"".concat(t["Nombre 1"]||""," ").concat(t["Nombre 2"]||""," ").concat(t["Apellido 1"]||""," ").concat(t["Apellido 2"]||"").replace(/ +(?= )/g,"")},business_name:(t["Razon Social"]||"").replace(/ +(?= )/g,""),country:(t["Pais"]||"").replace(/ +(?= )/g,""),department:(t["Departamento"]||"").replace(/ +(?= )/g,""),city:(t["Ciudad"]||"").replace(/ +(?= )/g,""),email:(t["Correo Electrónico"]||"").replace(/ +(?= )/g,"")}});this.db.setAuthorizedDistributors(e).then(function(e){t.isLoading=!1}).catch(function(t){return console.error(t)})}if(this.DATA.AUTHORIZED_SHOPS.length>0){var a=this.DATA.AUTHORIZED_SHOPS.map(function(t){return{city:t["Ciudad"]||"",address:t["Dirección"]||"",place:t["Lugar"]||"",local:t["Local"]||"",phone:t["Teléfono"]||"",schedule:t["Horario Atención"]||"",daytime:t["Jornada"]||""}});this.db.setAuthorizedShops(a).then(function(e){t.isLoading=!1}).catch(function(t){return console.error(t)})}}}]),e}(m["c"]);vt=u["__decorate"]([Object(m["a"])({components:{DragAndDropExcelDistributorsComponent:ut,DragAndDropExcelShopsComponent:ht},name:"AdminDistributorsAndShopsPageComponent"})],vt);var At=vt,St=At,Dt=(a("8cd1"),Object(b["a"])(St,tt,et,!1,null,"7c202e83",null)),Ct=Dt.exports,bt=function(t){function e(){var t;return Object(s["a"])(this,e),t=Object(o["a"])(this,Object(c["a"])(e).apply(this,arguments)),t.pages=[{title:"Title",titulo:"Titulo",component:_["a"]},{title:"Dispatches",titulo:"Despachos",component:j},{title:"Orders",titulo:"Ordenes de Compra",component:U["a"]},{title:"Users",titulo:"Usuarios",component:B["a"]},{title:"Swiper",titulo:"Swiper",component:x["a"]},{title:"Banners",titulo:"Banners",component:q},{title:"Products",titulo:"Productos",component:Z["a"]},{title:"Categories",titulo:"Categorias",component:Q},{title:"DistributorsAndSHops",titulo:"Distribuidores y Tiendas",component:Ct}],t.currentPageTitle="",t}return Object(l["a"])(e,t),Object(r["a"])(e,[{key:"getEnablePanelByUserRole",value:function(t){return!0}},{key:"isPanelActiveByTitle",value:function(t){return this.getEnablePanelByUserRole(t)&&this.currentPageTitle===t}},{key:"setPanelByTitle",value:function(t){this.currentPageTitle=t,console.warn("setPanelByTitle :: "+t)}}]),e}(m["c"]);bt=u["__decorate"]([Object(m["a"])({components:{VLazyImage:p.a,HeaderComponent:g["a"],FooterComponent:f["a"],AdminPanelsMenuComponent:O,AdminTitle:_["a"],AdminDispatches:j,AdminUsers:B["a"],AdminSwiper:x["a"],AdminBanners:q,AdminProducts:Z["a"],AdminCategories:Q,AdminDistributorsAndShops:Ct}})],bt);var It=bt,Ot=It,_t=(a("b2e5"),Object(b["a"])(Ot,n,i,!1,null,null,null));e["default"]=_t.exports},e797:function(t,e,a){},f3fe:function(t,e,a){t.exports=a.p+"img/s2-yellow.6730b39f.png"},f640:function(t,e,a){},ffb4:function(t,e,a){}}]);