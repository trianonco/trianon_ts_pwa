(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["app~82253770"],{"5e1a":function(e,t,r){"use strict";r("96cf");var n=r("3b8d"),a=r("d225"),u=r("b0b4"),i=function(){function e(){Object(a["a"])(this,e)}return Object(u["a"])(e,[{key:"init",value:function(){var e=Object(n["a"])(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:console.log(" .... Initing DB ");case 1:case"end":return e.stop()}},e)}));function t(){return e.apply(this,arguments)}return t}()},{key:"getTitle",value:function(){var e=Object(n["a"])(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise(function(e,t){var r=JSON.parse(""+sessionStorage.getItem("SETTINGS_LOCAL_DATABASE_TITLE"));e(r)}));case 1:case"end":return e.stop()}},e)}));function t(){return e.apply(this,arguments)}return t}()},{key:"getSwiperSlides",value:function(){var e=Object(n["a"])(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise(function(e,t){var r=JSON.parse(""+sessionStorage.getItem("SETTINGS_LOCAL_DATABASE_SWIPER"));e(r)}));case 1:case"end":return e.stop()}},e)}));function t(){return e.apply(this,arguments)}return t}()},{key:"getShopCategories",value:function(){var e=Object(n["a"])(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise(function(e,t){var r=JSON.parse(""+sessionStorage.getItem("SETTINGS_LOCAL_DATABASE_SHOP_CATEGORIES"));e(r)}));case 1:case"end":return e.stop()}},e)}));function t(){return e.apply(this,arguments)}return t}()},{key:"getAuthorizedDistributors",value:function(){var e=Object(n["a"])(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise(function(e,t){var r=JSON.parse(""+sessionStorage.getItem("SETTINGS_LOCAL_DATABASE_AUTHORZIED_DISTRIBUTORS"));e(r)}));case 1:case"end":return e.stop()}},e)}));function t(){return e.apply(this,arguments)}return t}()},{key:"getAuthorizedShops",value:function(){var e=Object(n["a"])(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise(function(e,t){var r=JSON.parse(""+sessionStorage.getItem("SETTINGS_LOCAL_DATABASE_AUTHORZIED_SHOPS"));e(r)}));case 1:case"end":return e.stop()}},e)}));function t(){return e.apply(this,arguments)}return t}()}]),e}(),c=(r("ac6a"),r("7514"),r("a481"),r("59ca")),o=r.n(c),s=r("bc3a"),p=r.n(s),f=function(){function e(){Object(a["a"])(this,e),this.db=o.a.firestore(),this.db_collection="SETTINGS",this.db_docs={HOME_SETTINGS:{TITLE:"HOME_TITLE",SWIPER:"HOME_SWIPER",BANNERS:"HOME_BANNERS"},SHOP_SETTINGS:{CATEGORIES:"SHOP_CATEGORIES",GENDER:"SHOP_GENDER"},AUTHORIZED_DISTRIBUTORS_AND_SHOPS_SETTINGS:{DISTRIBUTORS:"AUTHORIZED_DISTRIBUTORS",SHOPS:"AUTHORIZED_SHOPS"}}}return Object(u["a"])(e,[{key:"init",value:function(){var e=Object(n["a"])(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:console.log(" .... Initing DB ");case 1:case"end":return e.stop()}},e)}));function t(){return e.apply(this,arguments)}return t}()},{key:"getTitle",value:function(){var e=Object(n["a"])(regeneratorRuntime.mark(function e(){var t=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise(function(){var e=Object(n["a"])(regeneratorRuntime.mark(function e(r,n){var a,u;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:a="HOME_SETTINGS",u=t.db.collection(t.db_collection),u.doc(a).get().then(function(e){if(e.exists){var a=e.data(),u=a[t.db_docs.HOME_SETTINGS.TITLE],i=u;r(i)}else n("No such document!")}).catch(function(e){n(e)});case 3:case"end":return e.stop()}},e)}));return function(t,r){return e.apply(this,arguments)}}()));case 1:case"end":return e.stop()}},e)}));function t(){return e.apply(this,arguments)}return t}()},{key:"setTitle",value:function(){var e=Object(n["a"])(regeneratorRuntime.mark(function e(t){var r=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise(function(){var e=Object(n["a"])(regeneratorRuntime.mark(function e(n,a){var u,i,c,o;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:u="HOME_SETTINGS",i=r.db.collection(r.db_collection),c=r.db_docs.HOME_SETTINGS.TITLE,o={},o[c]=t,i.doc(u).update(o).then(function(e){n(e)}).catch(function(e){a(e)});case 6:case"end":return e.stop()}},e)}));return function(t,r){return e.apply(this,arguments)}}()));case 1:case"end":return e.stop()}},e)}));function t(t){return e.apply(this,arguments)}return t}()},{key:"getSwiperSlides",value:function(){var e=Object(n["a"])(regeneratorRuntime.mark(function e(){var t=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise(function(){var e=Object(n["a"])(regeneratorRuntime.mark(function e(r,n){var a,u;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:a="HOME_SETTINGS",u=t.db.collection(t.db_collection),u.doc(a).get().then(function(e){if(e.exists){var a=e.data(),u=a[t.db_docs.HOME_SETTINGS.SWIPER],i="string"===typeof u?JSON.parse(u+""):u,c=i;r(c)}else n("No such document!")}).catch(function(e){n(e)});case 3:case"end":return e.stop()}},e)}));return function(t,r){return e.apply(this,arguments)}}()));case 1:case"end":return e.stop()}},e)}));function t(){return e.apply(this,arguments)}return t}()},{key:"setSwiperSlides",value:function(){var e=Object(n["a"])(regeneratorRuntime.mark(function e(t){var r=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise(function(){var e=Object(n["a"])(regeneratorRuntime.mark(function e(n,a){var u,i,c,o;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:u="HOME_SETTINGS",i=r.db.collection(r.db_collection),c=r.db_docs.HOME_SETTINGS.SWIPER,o={},o[c]=JSON.stringify(t),i.doc(u).update(o).then(function(e){n(e)}).catch(function(e){a(e)});case 6:case"end":return e.stop()}},e)}));return function(t,r){return e.apply(this,arguments)}}()));case 1:case"end":return e.stop()}},e)}));function t(t){return e.apply(this,arguments)}return t}()},{key:"getShopCategories",value:function(){var e=Object(n["a"])(regeneratorRuntime.mark(function e(){var t=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise(function(){var e=Object(n["a"])(regeneratorRuntime.mark(function e(r,n){var a,u;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:a="SHOP_SETTINGS",u=t.db.collection(t.db_collection),u.doc(a).get().then(function(e){if(e.exists){var a=e.data(),u=a[t.db_docs.SHOP_SETTINGS.CATEGORIES],i="string"===typeof u?JSON.parse(u+""):u,c=i;r(c)}else n("No such document!")}).catch(function(e){n(e)});case 3:case"end":return e.stop()}},e)}));return function(t,r){return e.apply(this,arguments)}}()));case 1:case"end":return e.stop()}},e)}));function t(){return e.apply(this,arguments)}return t}()},{key:"setShopCategories",value:function(){var e=Object(n["a"])(regeneratorRuntime.mark(function e(t){var r=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise(function(){var e=Object(n["a"])(regeneratorRuntime.mark(function e(n,a){var u,i,c,o;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:u="SHOP_SETTINGS",i=r.db.collection(r.db_collection),c=r.db_docs.SHOP_SETTINGS.CATEGORIES,o={},o[c]=JSON.stringify(t),i.doc(u).update(o).then(function(e){console.warn("shopCategories"),console.warn(t),n(e)}).catch(function(e){a(e)});case 6:case"end":return e.stop()}},e)}));return function(t,r){return e.apply(this,arguments)}}()));case 1:case"end":return e.stop()}},e)}));function t(t){return e.apply(this,arguments)}return t}()},{key:"getAuthorizedDistributors",value:function(){var e=Object(n["a"])(regeneratorRuntime.mark(function e(){var t=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise(function(){var e=Object(n["a"])(regeneratorRuntime.mark(function e(r,n){var a,u;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:a="DISTRIBUTORS_AND_SHOPS",u=t.db.collection(t.db_collection),u.doc(a).get().then(function(e){if(e.exists){var a=e.data(),u=a[t.db_docs.AUTHORIZED_DISTRIBUTORS_AND_SHOPS_SETTINGS.DISTRIBUTORS],i="string"===typeof u?JSON.parse(u+""):u,c=i;r(c)}else n("No such document!")}).catch(function(e){n(e)});case 3:case"end":return e.stop()}},e)}));return function(t,r){return e.apply(this,arguments)}}()));case 1:case"end":return e.stop()}},e)}));function t(){return e.apply(this,arguments)}return t}()},{key:"getLatLngFromAddress",value:function(){var e=Object(n["a"])(regeneratorRuntime.mark(function e(t,r,a){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise(function(){var e=Object(n["a"])(regeneratorRuntime.mark(function e(n,u){var i,c;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:"https://maps.googleapis.com/maps/api/geocode/json?","AIzaSyDIwlZ8kuzsE9T0_1OMhN6GoeQYXT7pvus",i=encodeURI("".concat(t,",").concat(r," ,").concat(a).replace("-"," - ")).replace("#","%23").replace("CR","Carrera").replace("CL","Calle"),c="https://maps.googleapis.com/maps/api/geocode/json?address="+i+"&key=AIzaSyDIwlZ8kuzsE9T0_1OMhN6GoeQYXT7pvus",p.a.get(c).then(function(e){if(e&&e.data)try{var t=e.data.results,r=t[0],a=r.geometry,u=a.location;n(u)}catch(i){n()}else n()}).catch(function(e){n()});case 5:case"end":return e.stop()}},e)}));return function(t,r){return e.apply(this,arguments)}}()));case 1:case"end":return e.stop()}},e)}));function t(t,r,n){return e.apply(this,arguments)}return t}()},{key:"getAuthorizedShops",value:function(){var e=Object(n["a"])(regeneratorRuntime.mark(function e(){var t=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise(function(){var e=Object(n["a"])(regeneratorRuntime.mark(function e(r,n){var a,u;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:a="DISTRIBUTORS_AND_SHOPS",u=t.db.collection(t.db_collection),u.doc(a).get().then(function(e){if(e.exists){var a=e.data(),u=a[t.db_docs.AUTHORIZED_DISTRIBUTORS_AND_SHOPS_SETTINGS.SHOPS],i="string"===typeof u?JSON.parse(u+""):u,c=i;r(c)}else n("No such document!")}).catch(function(e){n(e)});case 3:case"end":return e.stop()}},e)}));return function(t,r){return e.apply(this,arguments)}}()));case 1:case"end":return e.stop()}},e)}));function t(){return e.apply(this,arguments)}return t}()},{key:"setAuthorizedShops",value:function(){var e=Object(n["a"])(regeneratorRuntime.mark(function e(t){var r=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise(function(){var e=Object(n["a"])(regeneratorRuntime.mark(function e(a,u){var i,c,o,s;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:i="DISTRIBUTORS_AND_SHOPS",c=r.db_docs.AUTHORIZED_DISTRIBUTORS_AND_SHOPS_SETTINGS.SHOPS,o=r.db.collection(r.db_collection),s={},r.getAuthorizedShops().then(function(){var e=Object(n["a"])(regeneratorRuntime.mark(function e(p){var f,h,l,m,g,w,d,v,S;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:f=JSON.parse(JSON.stringify(p)+""),h=[],console.log(" (shopsOnDB: any)  "),f.map(function(){var e=Object(n["a"])(regeneratorRuntime.mark(function e(r){var n,a,u,i;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return n=JSON.parse(JSON.stringify(t.find(function(e){return e.place===r["place"]}))+""),a=JSON.parse(JSON.stringify(r)+""),u=a["createdAt"]||new Date,i=a["updatedAt"]||new Date,n!==a?(n["updatedAt"]=new Date,n["createdAt"]=u):(n["updatedAt"]=i,n["createdAt"]=u),h.push(n),e.abrupt("return",n);case 7:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()),console.warn(" ----------------------------- "),console.warn("a_distributorsOnDB"),console.warn(h),console.warn(" ----------------------------- "),l=[],m=[],g=0;case 11:if(!(g<h.length)){e.next=23;break}return w=h[g].address||h[g].place,d=h[g].city,v=h[g].department,e.next=17,r.getLatLngFromAddress(w,d,v);case 17:S=e.sent,S?(l.push({city:d,address:w,position:S}),h[g]["coord"]={lat:S.lat,lng:S.lng}):m.push({city:d,address:w}),console.log(g/h.length*100);case 20:g++,e.next=11;break;case 23:localStorage.setItem("okPosition_shop",JSON.stringify(l)),localStorage.setItem("noPosition_shop",JSON.stringify(m)),s[c]=JSON.stringify(h),o.doc(i).update(s).then(function(e){a(e)}).catch(function(e){u(e)});case 27:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}());case 5:case"end":return e.stop()}},e)}));return function(t,r){return e.apply(this,arguments)}}()));case 1:case"end":return e.stop()}},e)}));function t(t){return e.apply(this,arguments)}return t}()},{key:"setAuthorizedDistributors",value:function(){var e=Object(n["a"])(regeneratorRuntime.mark(function e(t){var r=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise(function(){var e=Object(n["a"])(regeneratorRuntime.mark(function e(a,u){var i,c,o,s;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:i="DISTRIBUTORS_AND_SHOPS",c=r.db_docs.AUTHORIZED_DISTRIBUTORS_AND_SHOPS_SETTINGS.DISTRIBUTORS,o=r.db.collection(r.db_collection),s={},r.getAuthorizedDistributors().then(function(){var e=Object(n["a"])(regeneratorRuntime.mark(function e(n){var p,f,h,l,m,g,w,d,v;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:p=JSON.parse(JSON.stringify(n)+""),f=JSON.parse(JSON.stringify(t)+""),h=[],l=[],m=[],g=regeneratorRuntime.mark(function e(t){var n,a,u,i,c,o;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return n=f[t],a=p.find(function(e){return e.code.replace(/\s/g,"")==n.code.replace(/\s/g,"")}),u=n.address,i=n.city,c=n.department,e.next=7,r.getLatLngFromAddress(u,i,c);case 7:o=e.sent,n["position"]=o||{},a?(n["updatedAt"]=new Date,l.push(n)):(n["createdAt"]=new Date,h.push(n));case 10:case"end":return e.stop()}},e)}),w=0;case 7:if(!(w<f.length)){e.next=12;break}return e.delegateYield(g(w),"t0",9);case 9:w++,e.next=7;break;case 12:p.map(function(e,t){var r=e,n=f.find(function(e){return e.code.replace(/\s/g,"")==r.code.replace(/\s/g,"")});n||m.push(r)}),d=[].concat(h,l),v=JSON.stringify(d),s[c]=v,o.doc(i).update(s).then(function(e){a(e)}).catch(function(e){u(e)});case 18:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}());case 5:case"end":return e.stop()}},e)}));return function(t,r){return e.apply(this,arguments)}}()));case 1:case"end":return e.stop()}},e)}));function t(t){return e.apply(this,arguments)}return t}()}]),e}();r.d(t,"a",function(){return h});var h=function(){function e(){Object(a["a"])(this,e),this.local=new i,this.remote=new f,this.homeSwiperSlides=[]}return Object(u["a"])(e,[{key:"getTitle",value:function(){var e=Object(n["a"])(regeneratorRuntime.mark(function e(){var t=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise(function(){var e=Object(n["a"])(regeneratorRuntime.mark(function e(r,n){var a,u,i;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.local.getTitle();case 2:if(a=e.sent,!a){e.next=8;break}u=t.local.getTitle(),r(u),e.next=12;break;case 8:return e.next=10,t.remote.getTitle();case 10:i=e.sent,r(i);case 12:case"end":return e.stop()}},e)}));return function(t,r){return e.apply(this,arguments)}}()));case 1:case"end":return e.stop()}},e)}));function t(){return e.apply(this,arguments)}return t}()},{key:"setTitle",value:function(){var e=Object(n["a"])(regeneratorRuntime.mark(function e(t){var r=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise(function(){var e=Object(n["a"])(regeneratorRuntime.mark(function e(n,a){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:r.remote.setTitle(t).then(function(e){n(e)}).catch(function(e){console.error(e)});case 1:case"end":return e.stop()}},e)}));return function(t,r){return e.apply(this,arguments)}}()));case 1:case"end":return e.stop()}},e)}));function t(t){return e.apply(this,arguments)}return t}()},{key:"getSwiperSlides",value:function(){var e=Object(n["a"])(regeneratorRuntime.mark(function e(){var t=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise(function(){var e=Object(n["a"])(regeneratorRuntime.mark(function e(r,n){var a,u,i;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.local.getSwiperSlides();case 2:if(a=e.sent,!a){e.next=8;break}u=t.local.getSwiperSlides(),r(u),e.next=12;break;case 8:return e.next=10,t.remote.getSwiperSlides();case 10:i=e.sent,r(i);case 12:case"end":return e.stop()}},e)}));return function(t,r){return e.apply(this,arguments)}}()));case 1:case"end":return e.stop()}},e)}));function t(){return e.apply(this,arguments)}return t}()},{key:"setSwiperSlides",value:function(){var e=Object(n["a"])(regeneratorRuntime.mark(function e(t){var r=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise(function(){var e=Object(n["a"])(regeneratorRuntime.mark(function e(n,a){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:r.remote.setSwiperSlides(t).then(function(e){n(t)}).catch(function(e){console.error(e)});case 1:case"end":return e.stop()}},e)}));return function(t,r){return e.apply(this,arguments)}}()));case 1:case"end":return e.stop()}},e)}));function t(t){return e.apply(this,arguments)}return t}()},{key:"getShopCategories",value:function(){var e=Object(n["a"])(regeneratorRuntime.mark(function e(){var t=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise(function(){var e=Object(n["a"])(regeneratorRuntime.mark(function e(r,n){var a,u,i;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.local.getShopCategories();case 2:if(a=e.sent,!a){e.next=8;break}u=t.local.getShopCategories(),r(u),e.next=12;break;case 8:return e.next=10,t.remote.getShopCategories();case 10:i=e.sent,r(i);case 12:case"end":return e.stop()}},e)}));return function(t,r){return e.apply(this,arguments)}}()));case 1:case"end":return e.stop()}},e)}));function t(){return e.apply(this,arguments)}return t}()},{key:"setShopCategories",value:function(){var e=Object(n["a"])(regeneratorRuntime.mark(function e(t){var r=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise(function(){var e=Object(n["a"])(regeneratorRuntime.mark(function e(n,a){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:r.remote.setShopCategories(t).then(function(e){n(t)}).catch(function(e){console.error(e)});case 1:case"end":return e.stop()}},e)}));return function(t,r){return e.apply(this,arguments)}}()));case 1:case"end":return e.stop()}},e)}));function t(t){return e.apply(this,arguments)}return t}()},{key:"getAuthorizedDistributors",value:function(){var e=Object(n["a"])(regeneratorRuntime.mark(function e(){var t=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise(function(){var e=Object(n["a"])(regeneratorRuntime.mark(function e(r,n){var a,u,i;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.local.getAuthorizedDistributors();case 2:if(a=e.sent,!a){e.next=8;break}u=t.local.getAuthorizedDistributors(),r(u),e.next=12;break;case 8:return e.next=10,t.remote.getAuthorizedDistributors();case 10:i=e.sent,r(i);case 12:case"end":return e.stop()}},e)}));return function(t,r){return e.apply(this,arguments)}}()));case 1:case"end":return e.stop()}},e)}));function t(){return e.apply(this,arguments)}return t}()},{key:"setAuthorizedDistributors",value:function(){var e=Object(n["a"])(regeneratorRuntime.mark(function e(t){var r=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise(function(){var e=Object(n["a"])(regeneratorRuntime.mark(function e(n,a){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:r.remote.setAuthorizedDistributors(t).then(function(e){n(e)}).catch(function(e){console.error(e)});case 1:case"end":return e.stop()}},e)}));return function(t,r){return e.apply(this,arguments)}}()));case 1:case"end":return e.stop()}},e)}));function t(t){return e.apply(this,arguments)}return t}()},{key:"getAuthorizedShops",value:function(){var e=Object(n["a"])(regeneratorRuntime.mark(function e(){var t=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise(function(){var e=Object(n["a"])(regeneratorRuntime.mark(function e(r,n){var a,u,i;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.local.getAuthorizedShops();case 2:if(a=e.sent,!a){e.next=8;break}u=t.local.getAuthorizedShops(),r(u),e.next=12;break;case 8:return e.next=10,t.remote.getAuthorizedShops();case 10:i=e.sent,r(i);case 12:case"end":return e.stop()}},e)}));return function(t,r){return e.apply(this,arguments)}}()));case 1:case"end":return e.stop()}},e)}));function t(){return e.apply(this,arguments)}return t}()},{key:"setAuthorizedShops",value:function(){var e=Object(n["a"])(regeneratorRuntime.mark(function e(t){var r=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise(function(){var e=Object(n["a"])(regeneratorRuntime.mark(function e(n,a){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:r.remote.setAuthorizedShops(t).then(function(e){n(e)}).catch(function(e){console.error(e)});case 1:case"end":return e.stop()}},e)}));return function(t,r){return e.apply(this,arguments)}}()));case 1:case"end":return e.stop()}},e)}));function t(t){return e.apply(this,arguments)}return t}()}]),e}()},a7f4:function(e,t,r){"use strict";r.d(t,"a",function(){return o});r("a481"),r("96cf");var n=r("3b8d"),a=r("d225"),u=r("b0b4"),i=r("59ca"),c=r.n(i),o=function(){function e(){Object(a["a"])(this,e),this.db=c.a.firestore()}return Object(u["a"])(e,[{key:"init",value:function(){var e=Object(n["a"])(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:console.log("USER-DB");case 1:case"end":return e.stop()}},e)}));function t(){return e.apply(this,arguments)}return t}()},{key:"setShopProducts",value:function(){var e=Object(n["a"])(regeneratorRuntime.mark(function e(t,r,n){var a=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise(function(e,u){var i=a.db.collection(t),c=r;console.error(""),console.log(" documentRef => "+c),console.log(""),console.log(n),console.log(""),i.doc(c).set(n).then(function(t){e(t)}).catch(function(e){u(e)})}));case 1:case"end":return e.stop()}},e)}));function t(t,r,n){return e.apply(this,arguments)}return t}()},{key:"getProductsByGenderAndCategoriesFromFirebase",value:function(){var e=Object(n["a"])(regeneratorRuntime.mark(function e(t,r){var a=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise(function(){var e=Object(n["a"])(regeneratorRuntime.mark(function e(n,u){var i,c,o;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:i="PRODUCTS",c="PRODUCTS_GENDER_".concat(t.toUpperCase(),"_CATEGORY_").concat(r.replace(/\s+/g,"_").toUpperCase()),o=a.db.collection(i),o.doc(c).get().then(function(e){if(e.exists){var t=e.data(),r=t.products,a="string"===typeof r?JSON.parse(r+""):r,i=a;n(i)}else console.error(c),u("No such document!")}).catch(function(e){u(e)});case 4:case"end":return e.stop()}},e)}));return function(t,r){return e.apply(this,arguments)}}()));case 1:case"end":return e.stop()}},e)}));function t(t,r){return e.apply(this,arguments)}return t}()},{key:"getProductsByGenderAndCategories",value:function(){var e=Object(n["a"])(regeneratorRuntime.mark(function e(t,r){var a=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise(function(){var e=Object(n["a"])(regeneratorRuntime.mark(function e(n,u){var i;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:i="PRODUCTS_LOCAL_DATABASE_SHOP_GENDER_".concat(t.toUpperCase(),"_CATEGORIES_").concat(r.replace(/\s+/g,"_").toUpperCase()),sessionStorage.getItem(i),a.getProductsByGenderAndCategoriesFromFirebase(t,r).then(function(e){n(e)});case 3:case"end":return e.stop()}},e)}));return function(t,r){return e.apply(this,arguments)}}()));case 1:case"end":return e.stop()}},e)}));function t(t,r){return e.apply(this,arguments)}return t}()},{key:"getProductsByGenderAndCategoriesAndID",value:function(){var e=Object(n["a"])(regeneratorRuntime.mark(function e(t,r,a){var u=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise(function(){var e=Object(n["a"])(regeneratorRuntime.mark(function e(n,i){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:u.getProductsByGenderAndCategories(t,r).then(function(e){var t=e.filter(function(e){return e.ref_photo_code.replace(" ","")===a});n(t)});case 1:case"end":return e.stop()}},e)}));return function(t,r){return e.apply(this,arguments)}}()));case 1:case"end":return e.stop()}},e)}));function t(t,r,n){return e.apply(this,arguments)}return t}()}]),e}()},f579:function(e,t,r){"use strict";r.d(t,"a",function(){return i});r("96cf");var n=r("3b8d"),a=r("d225"),u=r("b0b4"),i=function(){function e(){Object(a["a"])(this,e)}return Object(u["a"])(e,[{key:"init",value:function(){var e=Object(n["a"])(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:console.log("USER-DB");case 1:case"end":return e.stop()}},e)}));function t(){return e.apply(this,arguments)}return t}()}]),e}()}}]);