(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["shop~b3dbc386"],{"0521":function(t,e,o){"use strict";var i=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"products-filters-gender-color"},["HOMBRE"===t.gender?o("div",{staticClass:"products-filters-gender-color-male"},[o("div",{staticClass:"yellow"}),o("div",{staticClass:"blue"})]):t._e(),"DAMA"===t.gender?o("div",{staticClass:"products-filters-gender-color-female"},[o("div",{staticClass:"yellow"}),o("div",{staticClass:"red"})]):t._e()])},r=[],s=o("d225"),c=o("308d"),a=o("6bb5"),n=o("4e2b"),l=o("9ab4"),d=o("60a3"),u=function(t){function e(){return Object(s["a"])(this,e),Object(c["a"])(this,Object(a["a"])(e).apply(this,arguments))}return Object(n["a"])(e,t),e}(d["c"]);l["__decorate"]([Object(d["b"])()],u.prototype,"gender",void 0),u=l["__decorate"]([Object(d["a"])({})],u);var p=u,f=p,h=(o("ae10"),o("2877")),v=Object(h["a"])(f,i,r,!1,null,"0b8ce116",null);e["a"]=v.exports},"088f":function(t,e,o){"use strict";var i=o("aa48"),r=o.n(i);r.a},"16dd":function(t,e,o){"use strict";var i=o("2109"),r=o.n(i);r.a},2109:function(t,e,o){},"2fc5":function(t,e,o){"use strict";var i=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"products-list"},[t.isFirstPage?t._e():o("div",{staticClass:"goUpButton",on:{click:function(e){return t.goScrollTop()}}},[o("i",{staticClass:"fas fa-arrow-up"})]),t._l(t.productsSortedBy,function(t){return o("ShopProductsListItemComponent",{key:t.ref,attrs:{product:t}})}),o("infinite-loading",{on:{infinite:t.infiniteHandler}},[o("div",{attrs:{slot:"no-results"},slot:"no-results"},[t._v(".")]),o("div",{attrs:{slot:"no-more"},slot:"no-more"},[t._v("-")])])],2)},r=[],s=(o("a481"),o("6762"),o("2fdb"),o("55dd"),o("96cf"),o("3b8d")),c=o("d225"),a=o("b0b4"),n=o("308d"),l=o("6bb5"),d=o("4e2b"),u=o("9ab4"),p=o("60a3"),f=o("e166"),h=o.n(f),v=function(){var t=this,e=t.$createElement,o=t._self._c||e;return t.isNot?t._e():o("div",{staticClass:"products-list-item",class:t.getProducsListItemClass()},[o("div",{staticClass:"product-list-item-wrapper",on:{click:function(e){return t.goToProductView()}}},[t.isNew?o("div",{staticClass:"isNew"},[t._v("NUEVO")]):t._e(),t.product.discount&&0!=t.product.discount?o("ui-floating-discount",{attrs:{discount:t.product.discount}}):t._e(),o("v-lazy-image",{staticClass:"photo",attrs:{src:t.photo_hd_src,"src-placeholder":t.photo_thumb_src},on:{load:function(e){return t.onLoadVLazyImage()}}}),o("h2",{staticClass:"price"},[o("ui-price-tag",{attrs:{price:t.product.price_cop,discount:t.product.discount}})],1),o("h2",{staticClass:"name"},[t._v(t._s(t.product.description)+" "+t._s(t.product.line))]),o("h2",{staticClass:"color"},[t._v("COLOR "+t._s(t.product.color))])],1)])},b=[],m=o("5077"),_=o("b27c"),y=o("8dc2"),g=o.n(y),C=function(t){function e(){var t;return Object(c["a"])(this,e),t=Object(n["a"])(this,Object(l["a"])(e).apply(this,arguments)),t.isNew=!1,t.isNot=!1,t.isPhotoOnStock=!1,t.isProductOnStock=!1,t.photo_hd_src="",t.photo_thumb_src="",t.product_code="",t}return Object(d["a"])(e,t),Object(a["a"])(e,[{key:"getProducsListItemClass",value:function(){return this.isPhotoOnStock?"default":this.isNot?"hidden bye-gone":"hidden"}},{key:"onLoadVLazyImage",value:function(){this.isPhotoOnStock=!0;var t=JSON.parse(""+localStorage.getItem("shopOnStock"));t.push(this.product.ref),localStorage.setItem("shopOnStock",JSON.stringify(t))}},{key:"imageExists",value:function(t){return new Promise(function(e,o){var i=new Image;i.onload=function(){e()},i.onerror=function(){o()},i.src=t})}},{key:"goToProductView",value:function(){var t="".concat(this.product.ref_photo_code,"-01.jpg"),e="gender/".concat(this.product.gender.replace("/","-")),o="category/".concat(this.product.category.replace("/","-")),i="ref/".concat(this.product.ref_photo_code.replace("/","-")),r="description/".concat(this.product.description.replace("/","-")),s="color/".concat(this.product.color.replace("/","-")),c="line/".concat(this.product.line.replace("/","-")),a="photo/".concat(t.replace("/","-"));this.$router.push("/product/".concat(e,"/").concat(o,"/").concat(i,"/").concat(r,"/").concat(s,"/").concat(c,"/").concat(a))}},{key:"mounted",value:function(){var t=this,e="18c776df-f5a7-45a0-9012-16f780381d92",o="".concat(this.product.ref_photo_code,"-01.jpg"),i="https://firebasestorage.googleapis.com/v0/b/trianon-co-pwa-dev.appspot.com/o/Shop-Products-Photos",r="alt=media&token=".concat(e);this.photo_thumb_src="".concat(i,"%2Fthumb%2F").concat(o,"?").concat(r),this.photo_hd_src="".concat(i,"%2Fhd%2F").concat(o,"?").concat(r),this.imageExists(this.photo_thumb_src).then(function(e){t.isNot=!1}).catch(function(e){t.isNot=!0})}}]),e}(p["c"]);u["__decorate"]([Object(p["b"])()],C.prototype,"product",void 0),C=u["__decorate"]([Object(p["a"])({components:{VLazyImage:g.a,"ui-floating-discount":m["a"],"ui-price-tag":_["a"]}})],C);var O=C,B=O,j=(o("088f"),o("2877")),A=Object(j["a"])(B,v,b,!1,null,null,null),M=A.exports,w=o("185b"),F=function(t){function e(){var t;return Object(c["a"])(this,e),t=Object(n["a"])(this,Object(l["a"])(e).apply(this,arguments)),t.products=[],t.productsDB=[],t.productsPageSize=6,t.isFirstPage=!0,t.page=1,t.list=[],t.apiDB=new w["a"],t.db={},t}return Object(d["a"])(e,t),Object(a["a"])(e,[{key:"beforeMount",value:function(){this.apiDB.setDatabaseByName("SHOP-DB"),this.db=this.apiDB.getDatabase()}},{key:"handleScroll",value:function(t){var e=document.documentElement.scrollTop||document.body.scrollTop;this.isFirstPage=e<50}},{key:"created",value:function(){window.addEventListener("scroll",this.handleScroll)}},{key:"destroyed",value:function(){window.removeEventListener("scroll",this.handleScroll)}},{key:"mounted",value:function(){var t=this,e=this.$route.params,o=e.category?e.category:"",i=(e.category&&e.category,e.gender?e.gender:"");this.db.getProductsByGenderAndCategories(i,o).then(function(){var e=Object(s["a"])(regeneratorRuntime.mark(function e(o){var i;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:i=t.removeDuplicates(o,"ref_photo_code"),t.productsDB=i,t.products=t.productsDB.slice(0,t.productsPageSize);case 3:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}())}},{key:"removeDuplicates",value:function(t,e){return t.filter(function(t,o,i){return i.map(function(t){return t[e]}).indexOf(t[e])===o})}},{key:"goScrollTop",value:function(){window.scroll({top:0,left:0,behavior:"smooth"})}},{key:"infiniteHandler",value:function(t){var e=this;setTimeout(function(){if(e.products.length!==e.productsDB.length){e.page+=1;var o=e.productsPageSize*e.page;e.products=e.productsDB.slice(0,o),t.loaded()}else t.complete()},0)}},{key:"productsSortedBy",get:function(){var t=this,e=[];return console.warn(this.sortBy),e="price"===this.sortBy.by?-1===this.sortBy.isAscendent?this.productsDB.sort(function(t,e){return t.price_cop-e.price_cop}):this.productsDB.sort(function(t,e){return e.price_cop-t.price_cop}):"color"===this.sortBy.by?this.productsDB.filter(function(e){return e.color.toUpperCase().normalize("NFD").replace(/[\u0300-\u036f]/g,"").includes(t.sortBy.keyword.toUpperCase().normalize("NFD").replace(/[\u0300-\u036f]/g,""))}):"name"===this.sortBy.by?1===this.sortBy.isAscendent?this.productsDB.sort(function(t,e){var o=t.description+" "+t.line,i=e.description+" "+e.line;return(""+o).localeCompare(i)}):this.productsDB.sort(function(t,e){var o=t.description+" "+t.line,i=e.description+" "+e.line;return(""+i).localeCompare(o)}):this.productsDB,e}}]),e}(p["c"]);u["__decorate"]([Object(p["b"])()],F.prototype,"sortBy",void 0),F=u["__decorate"]([Object(p["a"])({components:{ShopProductsListItemComponent:M,InfiniteLoading:h.a}})],F);var U=F,P=U,k=(o("cda6"),Object(j["a"])(P,i,r,!1,null,null,null));e["a"]=k.exports},4123:function(t,e,o){"use strict";var i=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"products-filters-sort-by"},[i("div",{staticClass:"products-filters-sort-by-wrapper"},[i("h1",[t._v("FILTRAR POR :")]),i("div",{staticClass:"filter",class:t.isFilterActiveByName("price"),on:{click:function(e){return t.setFilterActiveByName("price")}}},[i("span",[t._v("PRECIO")]),t.UX.isModalPrice?i("span",{staticClass:"triangle",staticStyle:{position:"absolute",top:"13px",left:"25px"}}):t._e()]),i("div",{staticClass:"filter",class:t.isFilterActiveByName("color"),on:{click:function(e){return t.setFilterActiveByName("color")}}},[i("span",[t._v("COLOR")]),t.UX.isModalColor?i("span",{staticClass:"triangle",staticStyle:{position:"absolute",top:"13px",left:"18px"}}):t._e()]),i("div",{staticClass:"filter",class:t.isFilterActiveByName("az"),on:{click:function(e){return t.setFilterActiveByName("az")}}},[i("span",[t._v("A-Z")]),t._e()]),i("div",{staticClass:"filter",class:t.isFilterActiveByName("za"),on:{click:function(e){return t.setFilterActiveByName("za")}}},[i("span",[t._v("Z-A")]),t._e()])]),t.UX.isModalActive&&t.UX.isModalPrice?i("div",{staticClass:"products-filters-sort-by-modal"},[i("div",{staticClass:"products-filters-sort-by-modal-row prices"},[i("div",{staticClass:"price active",on:{click:function(e){return t.doFilterByPriceFromBiggerToLower()}}},[t._v("DE MAYOR A MENOR")]),i("div",{staticClass:"price",on:{click:function(e){return t.doFilterByPriceFromLowerToBigger()}}},[t._v("DE MENOR A MAYOR")])])]):t._e(),t.UX.isModalActive&&t.UX.isModalColor?i("div",{staticClass:"products-filters-sort-by-modal"},[i("div",{staticClass:"products-filters-sort-by-modal-row search-bar"},[i("img",{attrs:{src:o("c07b")}}),i("input",{directives:[{name:"model",rawName:"v-model",value:t.UX.FilterColor,expression:"UX.FilterColor"}],attrs:{type:"text"},domProps:{value:t.UX.FilterColor},on:{change:t.onColorTyped,input:function(e){e.target.composing||t.$set(t.UX,"FilterColor",e.target.value)}}})]),i("div",{staticClass:"products-filters-sort-by-modal-row"})]):t._e()])},r=[],s=o("d225"),c=o("b0b4"),a=o("308d"),n=o("6bb5"),l=o("4e2b"),d=o("9ab4"),u=o("60a3"),p=function(t){function e(){var t;return Object(s["a"])(this,e),t=Object(a["a"])(this,Object(n["a"])(e).apply(this,arguments)),t.filter="",t.UX={isModalActive:!1,isModalPrice:!1,isModalColor:!1,isModalAZ:!1,isModalZA:!1,FilterPrice:0,FilterColor:"",FilterName:0},t}return Object(l["a"])(e,t),Object(c["a"])(e,[{key:"onColorTyped",value:function(){this.$emit("onSortByColor",this.UX.FilterColor)}},{key:"isFilterActiveByName",value:function(t){return this.filter===t?"active":"no-active"}},{key:"doFilterByPriceFromBiggerToLower",value:function(){this.UX.FilterPrice=1,this.$emit("onSortByPrice",1)}},{key:"doFilterByPriceFromLowerToBigger",value:function(){this.UX.FilterPrice=-1,this.$emit("onSortByPrice",-1)}},{key:"setFilterActiveByName",value:function(t){this.UX.isModalPrice="price"===t&&!this.UX.isModalPrice,this.UX.isModalColor="color"===t&&!this.UX.isModalColor,"az"===t?(this.UX.FilterName=1,this.UX.isModalAZ=!this.UX.isModalAZ):this.UX.isModalAZ=!1,"za"===t?(this.UX.FilterName=-1,this.UX.isModalZA=!this.UX.isModalZA):this.UX.isModalZA=!1,this.UX.isModalPrice||this.UX.isModalColor||this.UX.isModalAZ||this.UX.isModalZA?this.UX.isModalActive=!0:this.UX.isModalActive=!1,this.UX.isModalPrice&&this.$emit("onSortByPrice",this.UX.FilterPrice),this.UX.isModalColor&&this.$emit("onSortByColor",this.UX.FilterColor),(this.UX.isModalAZ||this.UX.isModalZA)&&this.$emit("onSortByName",this.UX.FilterName)}}]),e}(u["c"]);p=d["__decorate"]([Object(u["a"])({})],p);var f=p,h=f,v=(o("ff8a"),o("2877")),b=Object(v["a"])(h,i,r,!1,null,"6901edb8",null);e["a"]=b.exports},4987:function(t,e,o){},"68fd":function(t,e,o){},"853f":function(t,e,o){"use strict";var i=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"products-filters-gender-color"},["HOMBRE"===t.gender?o("div",{staticClass:"products-filters-gender-color-male"},[o("div",{staticClass:"blue",staticStyle:{width:"100vw"}})]):t._e(),"DAMA"===t.gender?o("div",{staticClass:"products-filters-gender-color-female"},[o("div",{staticClass:"red",staticStyle:{width:"100vw"}})]):t._e()])},r=[],s=o("d225"),c=o("308d"),a=o("6bb5"),n=o("4e2b"),l=o("9ab4"),d=o("60a3"),u=function(t){function e(){return Object(s["a"])(this,e),Object(c["a"])(this,Object(a["a"])(e).apply(this,arguments))}return Object(n["a"])(e,t),e}(d["c"]);l["__decorate"]([Object(d["b"])()],u.prototype,"gender",void 0),u=l["__decorate"]([Object(d["a"])({})],u);var p=u,f=p,h=(o("9654"),o("2877")),v=Object(h["a"])(f,i,r,!1,null,"d13f2ea8",null);e["a"]=v.exports},9654:function(t,e,o){"use strict";var i=o("4987"),r=o.n(i);r.a},"99ff":function(t,e,o){},aa48:function(t,e,o){},ae10:function(t,e,o){"use strict";var i=o("99ff"),r=o.n(i);r.a},b12b:function(t,e,o){},cda6:function(t,e,o){"use strict";var i=o("68fd"),r=o.n(i);r.a},f9215:function(t,e,o){"use strict";var i=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"products-banner"},["HOMBRE"===t.gender?i("img",{staticClass:"first",attrs:{src:o("9235")}}):t._e(),"DAMA"===t.gender?i("img",{staticClass:"first",attrs:{src:o("e7fd")}}):t._e(),i("h1",[t._v(" "+t._s(t.description))]),"HOMBRE"===t.gender?i("img",{staticClass:"last",attrs:{src:o("9235")}}):t._e(),"DAMA"===t.gender?i("img",{staticClass:"last",attrs:{src:o("e7fd")}}):t._e()])},r=[],s=o("d225"),c=o("308d"),a=o("6bb5"),n=o("4e2b"),l=o("9ab4"),d=o("60a3"),u=function(t){function e(){return Object(s["a"])(this,e),Object(c["a"])(this,Object(a["a"])(e).apply(this,arguments))}return Object(n["a"])(e,t),e}(d["c"]);l["__decorate"]([Object(d["b"])()],u.prototype,"gender",void 0),l["__decorate"]([Object(d["b"])()],u.prototype,"description",void 0),u=l["__decorate"]([Object(d["a"])({})],u);var p=u,f=p,h=(o("16dd"),o("2877")),v=Object(h["a"])(f,i,r,!1,null,"562a0316",null);e["a"]=v.exports},ff8a:function(t,e,o){"use strict";var i=o("b12b"),r=o.n(i);r.a}}]);