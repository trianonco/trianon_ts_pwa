(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["app~8bf57231"],{"185b":function(e,t,r){"use strict";r("96cf");var n=r("3b8d"),a=r("d225"),o=r("b0b4"),i=r("f579"),u=r("a7f4"),c=function(){function e(){Object(a["a"])(this,e)}return Object(o["a"])(e,[{key:"init",value:function(){var e=Object(n["a"])(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:console.log(" .... Initing DB ");case 1:case"end":return e.stop()}},e)}));function t(){return e.apply(this,arguments)}return t}()},{key:"getTitle",value:function(){var e=Object(n["a"])(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise(function(e,t){var r=JSON.parse(""+sessionStorage.getItem("SETTINGS_LOCAL_DATABASE_TITLE"));e(r)}));case 1:case"end":return e.stop()}},e)}));function t(){return e.apply(this,arguments)}return t}()},{key:"getSwiperSlides",value:function(){var e=Object(n["a"])(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise(function(e,t){var r=JSON.parse(""+sessionStorage.getItem("SETTINGS_LOCAL_DATABASE_SWIPER"));e(r)}));case 1:case"end":return e.stop()}},e)}));function t(){return e.apply(this,arguments)}return t}()},{key:"getShopCategories",value:function(){var e=Object(n["a"])(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise(function(e,t){var r=JSON.parse(""+sessionStorage.getItem("SETTINGS_LOCAL_DATABASE_SHOP_CATEGORIES"));e(r)}));case 1:case"end":return e.stop()}},e)}));function t(){return e.apply(this,arguments)}return t}()},{key:"getAuthorizedDistributors",value:function(){var e=Object(n["a"])(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise(function(e,t){var r=JSON.parse(""+sessionStorage.getItem("SETTINGS_LOCAL_DATABASE_AUTHORZIED_DISTRIBUTORS"));e(r)}));case 1:case"end":return e.stop()}},e)}));function t(){return e.apply(this,arguments)}return t}()},{key:"getAuthorizedShops",value:function(){var e=Object(n["a"])(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise(function(e,t){var r=JSON.parse(""+sessionStorage.getItem("SETTINGS_LOCAL_DATABASE_AUTHORZIED_SHOPS"));e(r)}));case 1:case"end":return e.stop()}},e)}));function t(){return e.apply(this,arguments)}return t}()}]),e}(),s=r("c7e5"),p=function(){function e(){Object(a["a"])(this,e),this.local=new c,this.remote=new s["a"],this.homeSwiperSlides=[]}return Object(o["a"])(e,[{key:"getTitle",value:function(){var e=Object(n["a"])(regeneratorRuntime.mark(function e(){var t=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise(function(){var e=Object(n["a"])(regeneratorRuntime.mark(function e(r,n){var a,o,i;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.local.getTitle();case 2:if(a=e.sent,!a){e.next=8;break}o=t.local.getTitle(),r(o),e.next=12;break;case 8:return e.next=10,t.remote.getTitle();case 10:i=e.sent,r(i);case 12:case"end":return e.stop()}},e)}));return function(t,r){return e.apply(this,arguments)}}()));case 1:case"end":return e.stop()}},e)}));function t(){return e.apply(this,arguments)}return t}()},{key:"setTitle",value:function(){var e=Object(n["a"])(regeneratorRuntime.mark(function e(t){var r=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise(function(){var e=Object(n["a"])(regeneratorRuntime.mark(function e(n,a){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:r.remote.setTitle(t).then(function(e){n(e)}).catch(function(e){console.error(e)});case 1:case"end":return e.stop()}},e)}));return function(t,r){return e.apply(this,arguments)}}()));case 1:case"end":return e.stop()}},e)}));function t(t){return e.apply(this,arguments)}return t}()},{key:"getSwiperSlides",value:function(){var e=Object(n["a"])(regeneratorRuntime.mark(function e(){var t=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise(function(){var e=Object(n["a"])(regeneratorRuntime.mark(function e(r,n){var a,o,i;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.local.getSwiperSlides();case 2:if(a=e.sent,!a){e.next=8;break}o=t.local.getSwiperSlides(),r(o),e.next=12;break;case 8:return e.next=10,t.remote.getSwiperSlides();case 10:i=e.sent,r(i);case 12:case"end":return e.stop()}},e)}));return function(t,r){return e.apply(this,arguments)}}()));case 1:case"end":return e.stop()}},e)}));function t(){return e.apply(this,arguments)}return t}()},{key:"setSwiperSlides",value:function(){var e=Object(n["a"])(regeneratorRuntime.mark(function e(t){var r=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise(function(){var e=Object(n["a"])(regeneratorRuntime.mark(function e(n,a){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:r.remote.setSwiperSlides(t).then(function(e){n(t)}).catch(function(e){console.error(e)});case 1:case"end":return e.stop()}},e)}));return function(t,r){return e.apply(this,arguments)}}()));case 1:case"end":return e.stop()}},e)}));function t(t){return e.apply(this,arguments)}return t}()},{key:"getShopCategories",value:function(){var e=Object(n["a"])(regeneratorRuntime.mark(function e(){var t=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise(function(){var e=Object(n["a"])(regeneratorRuntime.mark(function e(r,n){var a,o,i;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.local.getShopCategories();case 2:if(a=e.sent,!a){e.next=8;break}o=t.local.getShopCategories(),r(o),e.next=12;break;case 8:return e.next=10,t.remote.getShopCategories();case 10:i=e.sent,r(i);case 12:case"end":return e.stop()}},e)}));return function(t,r){return e.apply(this,arguments)}}()));case 1:case"end":return e.stop()}},e)}));function t(){return e.apply(this,arguments)}return t}()},{key:"setShopCategories",value:function(){var e=Object(n["a"])(regeneratorRuntime.mark(function e(t){var r=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise(function(){var e=Object(n["a"])(regeneratorRuntime.mark(function e(n,a){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:r.remote.setShopCategories(t).then(function(e){n(t)}).catch(function(e){console.error(e)});case 1:case"end":return e.stop()}},e)}));return function(t,r){return e.apply(this,arguments)}}()));case 1:case"end":return e.stop()}},e)}));function t(t){return e.apply(this,arguments)}return t}()},{key:"getAuthorizedDistributors",value:function(){var e=Object(n["a"])(regeneratorRuntime.mark(function e(){var t=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise(function(){var e=Object(n["a"])(regeneratorRuntime.mark(function e(r,n){var a,o,i;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.local.getAuthorizedDistributors();case 2:if(a=e.sent,!a){e.next=8;break}o=t.local.getAuthorizedDistributors(),r(o),e.next=12;break;case 8:return e.next=10,t.remote.getAuthorizedDistributors();case 10:i=e.sent,r(i);case 12:case"end":return e.stop()}},e)}));return function(t,r){return e.apply(this,arguments)}}()));case 1:case"end":return e.stop()}},e)}));function t(){return e.apply(this,arguments)}return t}()},{key:"setAuthorizedDistributors",value:function(){var e=Object(n["a"])(regeneratorRuntime.mark(function e(t){var r=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise(function(){var e=Object(n["a"])(regeneratorRuntime.mark(function e(n,a){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:r.remote.setAuthorizedDistributors(t).then(function(e){n(e)}).catch(function(e){console.error(e)});case 1:case"end":return e.stop()}},e)}));return function(t,r){return e.apply(this,arguments)}}()));case 1:case"end":return e.stop()}},e)}));function t(t){return e.apply(this,arguments)}return t}()},{key:"getAuthorizedShops",value:function(){var e=Object(n["a"])(regeneratorRuntime.mark(function e(){var t=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise(function(){var e=Object(n["a"])(regeneratorRuntime.mark(function e(r,n){var a,o,i;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.local.getAuthorizedShops();case 2:if(a=e.sent,!a){e.next=8;break}o=t.local.getAuthorizedShops(),r(o),e.next=12;break;case 8:return e.next=10,t.remote.getAuthorizedShops();case 10:i=e.sent,r(i);case 12:case"end":return e.stop()}},e)}));return function(t,r){return e.apply(this,arguments)}}()));case 1:case"end":return e.stop()}},e)}));function t(){return e.apply(this,arguments)}return t}()},{key:"setAuthorizedShops",value:function(){var e=Object(n["a"])(regeneratorRuntime.mark(function e(t){var r=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise(function(){var e=Object(n["a"])(regeneratorRuntime.mark(function e(n,a){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:r.remote.setAuthorizedShops(t).then(function(e){n(e)}).catch(function(e){console.error(e)});case 1:case"end":return e.stop()}},e)}));return function(t,r){return e.apply(this,arguments)}}()));case 1:case"end":return e.stop()}},e)}));function t(t){return e.apply(this,arguments)}return t}()}]),e}();r.d(t,"a",function(){return f});var f=function(){function e(){Object(a["a"])(this,e),this.currentDatabase={},this.optionsDatabase={"USER-DB":new i["a"],"SHOP-DB":new u["a"],"SETTINGS-DB":new p}}return Object(o["a"])(e,[{key:"init",value:function(){var e=Object(n["a"])(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:console.log(" .... Initing DB ");case 1:case"end":return e.stop()}},e)}));function t(){return e.apply(this,arguments)}return t}()},{key:"setDatabaseByName",value:function(){var e=Object(n["a"])(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:this.currentDatabase=this.optionsDatabase[t];case 1:case"end":return e.stop()}},e,this)}));function t(t){return e.apply(this,arguments)}return t}()},{key:"getDatabase",value:function(){return this.currentDatabase}}]),e}()},"4c60":function(e,t,r){"use strict";r.d(t,"a",function(){return u});r("a481"),r("ac6a");var n=r("d225"),a=r("b0b4"),o=r("59ca"),i=r.n(o),u=function(){function e(){Object(n["a"])(this,e),this.db=i.a.firestore()}return Object(a["a"])(e,[{key:"getLastUpdated",value:function(){var e=this;return new Promise(function(t){e.db.collection("CONFIG").get().then(function(e){e.forEach(function(e){var r=e.data(),n=(r["COLLECTION"],r["LAST_UPDATED"].toDate());t(n)})})})}},{key:"getHeaderTitleText",value:function(){var e=this;return new Promise(function(t){e.db.collection("HOME_SETTINGS").where("code","==","header_title_text").get().then(function(e){t(e.docs[0].data().content)})})}},{key:"getUserFromDB",value:function(e){var t=this;return new Promise(function(r,n){console.warn("email ==> "+e),t.db.collection("USERS").where("email","==",e).get().then(function(a){t.db.collection("SHOPPING_HISTORY").where("email","==",e).get().then(function(e){var t=a.docs[0].data(),n=e.docs.map(function(e){return e.data()});t["inProcessCart"]=n,console.error(""),console.error({user:t}),console.error(""),r(t)}).catch(function(e){return n(e)})}).catch(function(e){return n(e)})})}},{key:"getHomeSwiperSlides",value:function(){var e=this;return new Promise(function(t){e.db.collection("HOME_SETTINGS").where("code","==","home_swiper_slides").get().then(function(e){t(JSON.parse(e.docs[0].data().content))})})}},{key:"getHomeGenderButtonsGategories",value:function(){var e=this;return new Promise(function(t){e.db.collection("HOME_SETTINGS").where("code","==","home_gender_buttons_categories").get().then(function(e){t(JSON.parse(e.docs[0].data().content))})})}},{key:"getShopProductsByCategoryAndGender",value:function(e,t){var r=this;return new Promise(function(n){var a=t,o=e.toUpperCase().replace(" ","-").replace(" ","-"),i="db_shop_gender_".concat(a,"_category_").concat(o);a.length>0&&o.length>0&&r.db.collection("SHOP").where("gender","==",t).where("category","==",e).get().then(function(e){if(e&&e.docs&&e.docs[0]){var t=e.docs[0].data(),r=t.products;n(r)}else console.error(" db.ts Firebase Error !!! "),console.error(e),console.error(i),n([])})})}},{key:"setShopProducts",value:function(e,t,r){var n=this;return new Promise(function(a){var o=t,i=r.toUpperCase().replace(" ","-").replace(" ","-"),u="db_shop_gender_".concat(o,"_category_").concat(i),c=t,s=r,p=e.length>0?e:[],f={gender:c,category:s,products:p,updatedAt:new Date};n.db.collection("SHOP").doc(u).set(f).then(function(e){a(!0)}).catch(function(e){console.log(e),a(!1)})})}},{key:"getProductByRef",value:function(e){var t=this;return new Promise(function(r){var n="H"===e.slice(0,1)?"HOMBRE":"DAMA";t.db.collection("SHOP").where("gender","==",n).get().then(function(t){var n=t.docs;n.forEach(function(t){var n=t.data(),a=n.products,o=a.filter(function(t){return t.ref===e}),i=o.length>0;if(i){var u=t.id,c=o[0],s=a;r({name:u,product:c,products:s})}}),r({})})})}},{key:"getAuthorizedDistributors",value:function(){var e=this;return new Promise(function(t){e.db.collection("AUTHORIZED_DISTRIBUTORS").where("code","==","PLACES").get().then(function(e){t(e.docs[0].data().PLACES)})})}},{key:"setAuthorizedDistributors",value:function(e){var t=this;return new Promise(function(e){t.db.collection("AUTHORIZED_DISTRIBUTORS").doc("wH9jN7gQ631j0Z1xq2AP").set({name:"Los Angeles",state:"CA",country:"USA"}).then(function(){console.log("Document successfully written!")}).catch(function(e){console.error("Error writing document: ",e)})})}},{key:"setShoppingCartProducts",value:function(e){var t=this;return new Promise(function(r){var n=JSON.parse(localStorage.getItem("user")||"{}"),a=n.email||"";a?t.db.collection("USERS").doc(a).update({shoppingCart:e}).then(function(){console.log("Document successfully written!"),r("OK")}).catch(function(e){console.error("Error writing document: ",e),r("ERROR FROM FIRESTORE")}):r("ERROR!!! NO EMAIL IN LOCALSTORGAE")})}}]),e}()},"8ca0":function(e,t,r){"use strict";r.d(t,"a",function(){return n});var n={apiKey:"AIzaSyA3iNUvGsYc-Hmy1gUapAqi1JgDgI5DHQA",authDomain:"trianon-co-pwa-dev.firebaseapp.com",databaseURL:"https://trianon-co-pwa-dev.firebaseio.com",projectId:"trianon-co-pwa-dev",storageBucket:"trianon-co-pwa-dev.appspot.com",messagingSenderId:"886337397745",appId:"1:886337397745:web:21248e035f8148df"}}}]);