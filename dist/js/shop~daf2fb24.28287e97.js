(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["shop~daf2fb24"],{"2fc5":function(t,e,o){"use strict";var r=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"products-list"},[t.isFirstPage?t._e():o("div",{staticClass:"goUpButton",on:{click:function(e){return t.goScrollTop()}}},[o("i",{staticClass:"fas fa-arrow-up"})]),t._l(t.productsSortedBy,function(t){return o("ShopProductsListItemComponent",{key:t.ref,attrs:{product:t}})}),o("infinite-loading",{on:{infinite:t.infiniteHandler}},[o("div",{attrs:{slot:"no-results"},slot:"no-results"},[t._v(".")]),o("div",{attrs:{slot:"no-more"},slot:"no-more"},[t._v("-")])])],2)},n=[],i=(o("a481"),o("6762"),o("2fdb"),o("55dd"),o("96cf"),o("3b8d")),s=o("d225"),c=o("b0b4"),a=o("308d"),u=o("6bb5"),d=o("4e2b"),l=o("9ab4"),p=o("60a3"),f=o("e166"),h=o.n(f),v=o("b39f"),y=o("185b"),b=function(t){function e(){var t;return Object(s["a"])(this,e),t=Object(a["a"])(this,Object(u["a"])(e).apply(this,arguments)),t.products=[],t.productsDB=[],t.productsPageSize=6,t.isFirstPage=!0,t.page=1,t.list=[],t.apiDB=new y["a"],t.db={},t}return Object(d["a"])(e,t),Object(c["a"])(e,[{key:"beforeMount",value:function(){this.apiDB.setDatabaseByName("SHOP-DB"),this.db=this.apiDB.getDatabase()}},{key:"handleScroll",value:function(t){var e=document.documentElement.scrollTop||document.body.scrollTop;this.isFirstPage=e<50}},{key:"created",value:function(){window.addEventListener("scroll",this.handleScroll)}},{key:"destroyed",value:function(){window.removeEventListener("scroll",this.handleScroll)}},{key:"mounted",value:function(){var t=this,e=this.$route.params,o=e.category?e.category:"",r=(e.category&&e.category,e.gender?e.gender:"");this.db.getProductsByGenderAndCategories(r,o).then(function(){var e=Object(i["a"])(regeneratorRuntime.mark(function e(o){var r;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:r=t.removeDuplicates(o,"ref_photo_code"),t.productsDB=r,t.products=t.productsDB.slice(0,t.productsPageSize);case 3:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}())}},{key:"removeDuplicates",value:function(t,e){return t.filter(function(t,o,r){return r.map(function(t){return t[e]}).indexOf(t[e])===o})}},{key:"goScrollTop",value:function(){window.scroll({top:0,left:0,behavior:"smooth"})}},{key:"infiniteHandler",value:function(t){var e=this;setTimeout(function(){if(e.products.length!==e.productsDB.length){e.page+=1;var o=e.productsPageSize*e.page;e.products=e.productsDB.slice(0,o),t.loaded()}else t.complete()},0)}},{key:"productsSortedBy",get:function(){var t=this,e=[];return console.warn(this.sortBy),e="price"===this.sortBy.by?-1===this.sortBy.isAscendent?this.productsDB.sort(function(t,e){return t.price_cop-e.price_cop}):this.productsDB.sort(function(t,e){return e.price_cop-t.price_cop}):"color"===this.sortBy.by?this.productsDB.filter(function(e){return e.color.toUpperCase().normalize("NFD").replace(/[\u0300-\u036f]/g,"").includes(t.sortBy.keyword.toUpperCase().normalize("NFD").replace(/[\u0300-\u036f]/g,""))}):"name"===this.sortBy.by?1===this.sortBy.isAscendent?this.productsDB.sort(function(t,e){var o=t.description+" "+t.line,r=e.description+" "+e.line;return(""+o).localeCompare(r)}):this.productsDB.sort(function(t,e){var o=t.description+" "+t.line,r=e.description+" "+e.line;return(""+r).localeCompare(o)}):this.productsDB,e}}]),e}(p["c"]);l["__decorate"]([Object(p["b"])()],b.prototype,"sortBy",void 0),b=l["__decorate"]([Object(p["a"])({components:{ShopProductsListItemComponent:v["a"],InfiniteLoading:h.a}})],b);var g=b,m=g,B=(o("cda6"),o("2877")),D=Object(B["a"])(m,r,n,!1,null,null,null);e["a"]=D.exports},"68fd":function(t,e,o){},cda6:function(t,e,o){"use strict";var r=o("68fd"),n=o.n(r);n.a}}]);